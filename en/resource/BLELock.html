
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>BLE Lock Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="WiFiLock.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="iOSAdaptation.html">
            
                <a href="iOSAdaptation.html">
            
                    
                    iOS Adaptation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="User.html">
            
                <a href="User.html#user-management">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="User.html">
            
                <a href="User.html#use-mobile-phone-for-login">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="User.html">
            
                <a href="User.html#use-email-for-login">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="User.html">
            
                <a href="User.html#use-uid-for-login">
            
                    
                    Use UID for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="User.html">
            
                <a href="User.html#third-party-login">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="User.html">
            
                <a href="User.html#login-by-auth2">
            
                    
                    Login by Auth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="User.html">
            
                <a href="User.html#anonymous-registration">
            
                    
                    Anonymous registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="User.html">
            
                <a href="User.html#modify-user-info">
            
                    
                    Modify User Info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="User.html">
            
                <a href="User.html#logout-disable-account">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="User.html">
            
                <a href="User.html#user-data-model">
            
                    
                    User Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="User.html">
            
                <a href="User.html#handling-of-expired-session">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Home.html">
            
                <a href="Home.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Home.html">
            
                <a href="Home.html#home-information-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Home.html">
            
                <a href="Home.html#member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Home.html">
            
                <a href="Home.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="Home.html">
            
                <a href="Home.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator.html">
            
                <a href="Activator.html#device-configuration">
            
                    
                    Device Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator.html">
            
                <a href="Activator.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator.html">
            
                <a href="Activator.html#instructions">
            
                    
                    Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Activator.html">
            
                <a href="Activator.html#Implementation">
            
                    
                    Implementation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="Activator.html">
            
                <a href="Activator.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="Activator.html">
            
                <a href="Activator.html#hotspot-mode">
            
                    
                    HotSpot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.3" data-path="Activator.html">
            
                <a href="Activator.html#camera-scan-code-network-configuration">
            
                    
                    Camera Scan Code Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.4" data-path="Activator.html">
            
                <a href="Activator.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.5" data-path="Activator.html">
            
                <a href="Activator.html#sub-device-configuration">
            
                    
                    Sub-Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.6" data-path="Activator.html">
            
                <a href="Activator.html#bluetooth-configuration">
            
                    
                    Bluetooth Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html#initialize-device">
            
                    
                    Initialize Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Device.html">
            
                <a href="Device.html#delegate-of-device">
            
                    
                    Delegate of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Device.html">
            
                <a href="Device.html#functions-of-device">
            
                    
                    Functions of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength">
            
                    
                    Obtain Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="Device.html">
            
                <a href="Device.html#obtain-the-sub-device-list-of-a-gateway">
            
                    
                    Obtain the Sub-Device List of a Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="Device.html">
            
                <a href="Device.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="Device.html">
            
                <a href="Device.html#fetch-the-log-of-dp-report">
            
                    
                    Fetch the Log of DP Report
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="MultiControl.html">
            
                <a href="MultiControl.html#device-multi-control">
            
                    
                    Device Multi-Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="MultiControl.html">
            
                <a href="MultiControl.html#overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="MultiControl.html">
            
                <a href="MultiControl.html#bussiness-flowchart">
            
                    
                    Bussiness Flowchart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="MultiControl.html">
            
                <a href="MultiControl.html#get-device-dp-information">
            
                    
                    Get Device Dp Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="MultiControl.html">
            
                <a href="MultiControl.html#query-related-information-of-a-dp">
            
                    
                    Query Related Information of a Dp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="MultiControl.html">
            
                <a href="MultiControl.html#add-multi-control-group">
            
                    
                    Add Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="MultiControl.html">
            
                <a href="MultiControl.html#update-multi-control-group">
            
                    
                    Update Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="MultiControl.html">
            
                <a href="MultiControl.html#enable-or-disable-multi-control-group">
            
                    
                    Enable or Disable Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="MultiControl.html">
            
                <a href="MultiControl.html#query-devices-that-support-multi-control">
            
                    
                    Query Devices that Support Multi-control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="MultiControl.html">
            
                <a href="MultiControl.html#get-affiliate-device-details">
            
                    
                    Get Affiliate Device Details
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Share.html">
            
                <a href="Share.html#shared-devices">
            
                    
                    Share Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Share.html">
            
                <a href="Share.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Share.html">
            
                <a href="Share.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Share.html">
            
                <a href="Share.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Share.html">
            
                <a href="Share.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="Group.html">
            
                <a href="Group.html#group-management">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="Group.html">
            
                <a href="Group.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="Group.html">
            
                <a href="Group.html#create-group">
            
                    
                    Create Group
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.2.1" data-path="Group.html">
            
                <a href="Group.html#create-wi-fi-group">
            
                    
                    Create Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2.2" data-path="Group.html">
            
                <a href="Group.html#create-zigbee-group">
            
                    
                    Create ZigBee Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="Group.html">
            
                <a href="Group.html#group-operation">
            
                    
                    Group Operation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.3.1" data-path="Group.html">
            
                <a href="Group.html#instantiation">
            
                    
                    Instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.2" data-path="Group.html">
            
                <a href="Group.html#modifying-group-name">
            
                    
                    Modifying group name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.3" data-path="Group.html">
            
                <a href="Group.html#dismiss-group">
            
                    
                    Dismiss Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.4" data-path="Group.html">
            
                <a href="Group.html#sending-group-control-command">
            
                    
                    Sending group control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.5" data-path="Group.html">
            
                <a href="Group.html#group-callback-event">
            
                    
                    Group callback event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.6" data-path="Group.html">
            
                <a href="Group.html#group-data-acquisition">
            
                    
                    Group data acquisition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-condition">
            
                    
                    Scene Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-action">
            
                    
                    Scene Action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    TUYA BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-low-energy">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="BLE.html">
            
                <a href="BLE.html#preparatory-work">
            
                    
                    Preparatory Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="BLE.html">
            
                <a href="BLE.html#scanning-device">
            
                    
                    Scanning Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-function">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.6" data-path="BLE.html">
            
                <a href="BLE.html#ble-ota">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.7" data-path="BLE.html">
            
                <a href="BLE.html#error-code">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#bluetooth-meshsig">
            
                    
                    Bluetooth Mesh(SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Mesh.html">
            
                <a href="Mesh.html#bluetooth-meshtuya">
            
                    
                    Bluetooth Mesh(TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="Mesh.html">
            
                <a href="Mesh.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="Mesh.html">
            
                <a href="Mesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="Mesh.html">
            
                <a href="Mesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="Mesh.html">
            
                <a href="Mesh.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="Mesh.html">
            
                <a href="Mesh.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="Mesh.html">
            
                <a href="Mesh.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7" data-path="Mesh.html">
            
                <a href="Mesh.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.8" data-path="Mesh.html">
            
                <a href="Mesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="ExtensionAbout.html">
            
                <a href="ExtensionAbout.html">
            
                    
                    Extension SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Camera.html">
            
                <a href="Camera.html">
            
                    
                    IPC SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="ipc/rapid_integration.html">
            
                <a href="ipc/rapid_integration.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="ipc/architecture.html">
            
                <a href="ipc/architecture.html">
            
                    
                    SDK Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="ipc/camera_device.html">
            
                <a href="ipc/camera_device.html">
            
                    
                    Camera Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="ipc/activitor.html">
            
                <a href="ipc/activitor.html">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="ipc/live.html">
            
                <a href="ipc/live.html">
            
                    
                    Camera Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.5.1" data-path="ipc/live.html">
            
                <a href="ipc/live.html#live-video">
            
                    
                    Live Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.2" data-path="ipc/playback.html">
            
                <a href="ipc/playback.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.3" data-path="ipc/av_function.html">
            
                <a href="ipc/av_function.html">
            
                    
                    AV Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.6" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html">
            
                    
                    Cloud Storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.6.1" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#flow-chart">
            
                    
                    Flow Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.2" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#cloud-service">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.3" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#cloud-video">
            
                    
                    Cloud Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.7" data-path="ipc/device_points.html">
            
                <a href="ipc/device_points.html">
            
                    
                    Extension Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.7.1" data-path="ipc/device_points.html">
            
                <a href="ipc/device_points.html#data-point-id">
            
                    
                    Data Point Id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.2" data-path="ipc/lowpower.html">
            
                <a href="ipc/lowpower.html">
            
                    
                    Doorbell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.3" data-path="ipc/sd_card.html">
            
                <a href="ipc/sd_card.html">
            
                    
                    Memory Card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.4" data-path="ipc/ptz.html">
            
                <a href="ipc/ptz.html">
            
                    
                    PTZ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.8" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html">
            
                    
                    Detection Alarm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.8.1" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html#message-list">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.8.2" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html#video-message">
            
                    
                    Video Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.9" data-path="ipc/encryptImage.html">
            
                <a href="ipc/encryptImage.html">
            
                    
                    Encrypted Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.10" data-path="ipc/timeline.html">
            
                <a href="ipc/timeline.html">
            
                    
                    Timeline View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.11" data-path="ipc/errors.html">
            
                <a href="ipc/errors.html">
            
                    
                    Error Codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.12" data-path="ipc/required_permission.html">
            
                <a href="ipc/required_permission.html">
            
                    
                    Permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.13" data-path="ipc/log_file.html">
            
                <a href="ipc/log_file.html">
            
                    
                    Debug logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.14" data-path="ipc/FAQ.html">
            
                <a href="ipc/FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.15" data-path="ipc/version_record.html">
            
                <a href="ipc/version_record.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Sweeper.html">
            
                <a href="Sweeper.html#Sweeper-sdk">
            
                    
                    Sweeper SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="SweeperInterface.html">
            
                <a href="SweeperInterface.html">
            
                    
                    Gyroscope and Visual Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="SweeperLaser.html">
            
                <a href="SweeperLaser.html">
            
                    
                    Laser Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="SweeperVoiceDownload.html">
            
                <a href="SweeperVoiceDownload.html">
            
                    
                    Voice Package Download
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="SweeperWordIntroduction.html">
            
                <a href="SweeperWordIntroduction.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5" data-path="SweeperChangeLog.html">
            
                <a href="SweeperChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Lock.html">
            
                <a href="Lock.html">
            
                    
                    Smart Lock SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="WiFiLock.html">
            
                <a href="WiFiLock.html">
            
                    
                    Wi-Fi Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.1.3.2" data-path="BLELock.html">
            
                <a href="BLELock.html">
            
                    
                    BLE Lock
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <a target="_blank" href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    ChangeLog
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >BLE Lock</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#ble-smart-lock-instructions"><b>1. </b>BLE Smart Lock Instructions</a></li><ul><li><span class="title-icon "></span><a href="#term-explanation"><b>1.1. </b>Term Explanation</a></li><ul><li><span class="title-icon "></span><a href="#description"><b>1.1.1. </b>Description</a></li></ul><li><span class="title-icon "></span><a href="#lock-member"><b>1.2. </b>Lock Member</a></li><ul><li><span class="title-icon "></span><a href="#get-lock-members-list"><b>1.2.1. </b>Get Lock Members List</a></li><li><span class="title-icon "></span><a href="#create-lock-member"><b>1.2.2. </b>Create Lock Member</a></li><li><span class="title-icon "></span><a href="#update-lock-member-information"><b>1.2.3. </b>Update Lock Member Information</a></li><li><span class="title-icon "></span><a href="#delete-lock-member"><b>1.2.4. </b>Delete Lock Member</a></li></ul><li><span class="title-icon "></span><a href="#connection-status"><b>1.3. </b>Connection status</a></li><li><span class="title-icon "></span><a href="#dynamic-password"><b>1.4. </b>Dynamic Password</a></li><ul><li><span class="title-icon "></span><a href="#get-dynamic-password"><b>1.4.1. </b>Get Dynamic Password</a></li></ul><li><span class="title-icon "></span><a href="#ble-unlock"><b>1.5. </b>BLE Unlock</a></li><li><span class="title-icon "></span><a href="#lock-record"><b>1.6. </b>Lock Record</a></li><ul><li><span class="title-icon "></span><a href="#get-lock-records"><b>1.6.1. </b>Get Lock Records</a></li><li><span class="title-icon "></span><a href="#get-door-lock-unlock-records"><b>1.6.2. </b>Get Door Lock Unlock Records</a></li></ul><li><span class="title-icon "></span><a href="#unlock-mode-management"><b>1.7. </b>Unlock Mode Management</a></li><ul><li><span class="title-icon "></span><a href="#password-unlock"><b>1.7.1. </b>Password Unlock</a></li><li><span class="title-icon "></span><a href="#fingerprint-unlock"><b>1.7.2. </b>Fingerprint Unlock</a></li><li><span class="title-icon "></span><a href="#card-unlock"><b>1.7.3. </b>Card Unlock</a></li><li><span class="title-icon "></span><a href="#universal-unlock-operation"><b>1.7.4. </b>Universal Unlock Operation</a></li></ul><li><span class="title-icon "></span><a href="#ble-door-lock-function-points"><b>1.8. </b>BLE Door Lock Function Points</a></li></ul></ul></div><h1 id="ble-smart-lock-instructions"><a name="ble-smart-lock-instructions" class="anchor-navigation-ex-anchor" href="#ble-smart-lock-instructions"><i class="fa fa-link" aria-hidden="true"></i></a>1. BLE Smart Lock Instructions</h1>
<h2 id="term-explanation"><a name="term-explanation" class="anchor-navigation-ex-anchor" href="#term-explanation"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Term Explanation</h2>
<table>
<thead>
<tr>
<th>Term</th>
<th>Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>hijack</td>
<td>Door lock hijacking refers to setting a specific password (fingerprint, password, etc.) as the hijacking password. <br> When the user enters this password to open the door, the door lock considers the user to open the door involuntarily, and sends the alarm information to the family&apos;s mobile phone or property management system.</td>
</tr>
<tr>
<td>door lock member</td>
<td>Door lock members are divided into family members and non-family members. <br> Family members are members who are added to the user&apos;s family. The door lock can be used to manage family members and set the unlock mode. <br> Non-family members are members created in door locks and can be managed through door lock related interfaces.</td>
</tr>
<tr>
<td>lockUserId and userId</td>
<td><code>lockUserId</code> is the firmware member id assigned to the device by the cloud when creating the door lock member. <br><code>userId</code> is the database record id assigned by the cloud when creating the door lock member, means the user&apos;s unique id</td>
</tr>
</tbody>
</table>
<h3 id="description"><a name="description" class="anchor-navigation-ex-anchor" href="#description"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. Description</h3>
<table>
<thead>
<tr>
<th>Class Name</th>
<th><strong>Description</strong></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TuyaSmartBLELockDevice</code></td>
<td>BLE Lock Device, extend <code>TuyaSmartDevice</code></td>
<td></td>
</tr>
<tr>
<td><code>TuyaSmartBLELockDeviceDelegate</code></td>
<td>BLE Lock Device Delegate, extend <code>TuyaSmartDeviceDelegate</code></td>
</tr>
</tbody>
</table>
<h2 id="lock-member"><a name="lock-member" class="anchor-navigation-ex-anchor" href="#lock-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Lock Member</h2>
<h3 id="get-lock-members-list"><a name="get-lock-members-list" class="anchor-navigation-ex-anchor" href="#get-lock-members-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Get Lock Members List</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getMemberListWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>members<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                         failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong><code>TuyaSmartBLELockMemberModel</code> </strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Declaration</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>NSString</td>
<td>user id</td>
</tr>
<tr>
<td>userContact</td>
<td>NSString</td>
<td>Contact</td>
</tr>
<tr>
<td>avatarUrl</td>
<td>NSString</td>
<td>Avatar url</td>
</tr>
<tr>
<td>nickName</td>
<td>NSString</td>
<td>Name</td>
</tr>
<tr>
<td>userTimeSet</td>
<td>NSString</td>
<td>member time data</td>
</tr>
<tr>
<td>phase</td>
<td>NSUInteger</td>
<td>Freeze condition, 0: freeze, 1: unfreeze</td>
</tr>
<tr>
<td>status</td>
<td>NSUInteger</td>
<td>user status</td>
</tr>
<tr>
<td>lockUserId</td>
<td>int</td>
<td>user id of device</td>
</tr>
<tr>
<td>userType</td>
<td>NSUInteger</td>
<td>user type, 10:admin 20:normal user 30: no-name user</td>
</tr>
<tr>
<td>supportOpenType</td>
<td>NSArray</td>
<td>support unlock type</td>
</tr>
<tr>
<td>shareUser</td>
<td>NSString</td>
<td>Share user id</td>
</tr>
<tr>
<td>productAttribute</td>
<td>NSUInteger</td>
<td>Product info</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock getMemberListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;member list %@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getMemberList</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;member list <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="create-lock-member"><a name="create-lock-member" class="anchor-navigation-ex-anchor" href="#create-lock-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Create Lock Member</h3>
<p>SDK support add member for lock device</p>
<pre class="language-"><code class="lang-sequence">Title: create lock member

participant app
participant server

note over app: write member info
app-&gt;server: send create member request
server--&gt;app: response result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addMemberWithUserName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>userName
                  allowUnlock<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>allowUnlock
                     timeType<span class="token punctuation">:</span><span class="token punctuation">(</span>TYMemberTimeType<span class="token punctuation">)</span>timeType
                effectiveDate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDate <span class="token operator">*</span><span class="token punctuation">)</span>effectiveDate
                  invalidDate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDate <span class="token operator">*</span><span class="token punctuation">)</span>invalidDate
                      success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessBOOL<span class="token punctuation">)</span>success
                      failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userName</td>
<td>User name</td>
</tr>
<tr>
<td>allowUnlock</td>
<td>Allow unlock</td>
</tr>
<tr>
<td>timeType</td>
<td><code>TYMemberTimeTypePermanent</code> ,  <code>TYMemberTimeTypePhase</code></td>
</tr>
<tr>
<td>effectiveDate</td>
<td>Effective date</td>
</tr>
<tr>
<td>invalidDate</td>
<td>Invalid date</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock addMemberWithUserName<span class="token punctuation">:</span>#<span class="token operator">&lt;</span>member name<span class="token operator">&gt;</span># allowUnlock<span class="token punctuation">:</span>YES timeType<span class="token punctuation">:</span>TYMemberTimeTypePhase effectiveDate<span class="token punctuation">:</span><span class="token punctuation">[</span>NSDate date<span class="token punctuation">]</span> invalidDate<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSDate date<span class="token punctuation">]</span> dateByAddingTimeInterval<span class="token punctuation">:</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">]</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;create success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addMember</span><span class="token punctuation">(</span>withUserName<span class="token punctuation">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> allowUnlock<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> timeType<span class="token punctuation">:</span> <span class="token punctuation">.</span>phase<span class="token punctuation">,</span> effectiveDate<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> invalidDate<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addingTimeInterval</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;create success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>     
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="update-lock-member-information"><a name="update-lock-member-information" class="anchor-navigation-ex-anchor" href="#update-lock-member-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. Update Lock Member Information</h3>
<p>SDK provides the function of modifying the members of the lock. The members of the lock will interact with the hardware and require the device to maintain a Bluetooth connection.</p>
<pre class="language-"><code class="lang-sequence">Title: Update Lock Member

participant server
participant app
participant lock

note over app: write new user info
app-&gt;lock: create bluetooth connection
app-&gt;lock: send device update member command data
lock--&gt;app: receive device update result
app-&gt;server: send request, update member
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateMemberWithUserName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>userName
                        memberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                     allowUnlock<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>allowUnlock
                        timeType<span class="token punctuation">:</span><span class="token punctuation">(</span>TYMemberTimeType<span class="token punctuation">)</span>timeType
                   effectiveDate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDate <span class="token operator">*</span><span class="token punctuation">)</span>effectiveDate
                     invalidDate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDate <span class="token operator">*</span><span class="token punctuation">)</span>invalidDate
                         success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessBOOL<span class="token punctuation">)</span>success
                         failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userName</td>
<td>User name</td>
</tr>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>allowUnlock</td>
<td>Allow unlock</td>
</tr>
<tr>
<td>timeType</td>
<td><code>TYMemberTimeTypePermanent</code>, <code>TYMemberTimeTypePhase</code></td>
</tr>
<tr>
<td>effectiveDate</td>
<td>Effective date</td>
</tr>
<tr>
<td>invalidDate</td>
<td>Invalid date</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock updateMemberWithUserName<span class="token punctuation">:</span><span class="token string">@&quot;new name&quot;</span> memberId<span class="token punctuation">:</span><span class="token string">@&quot;0000008byw&quot;</span> allowUnlock<span class="token punctuation">:</span>YES timeType<span class="token punctuation">:</span>TYMemberTimeTypePermanent effectiveDate<span class="token punctuation">:</span><span class="token punctuation">[</span>NSDate date<span class="token punctuation">]</span> invalidDate<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSDate date<span class="token punctuation">]</span> dateByAddingTimeInterval<span class="token punctuation">:</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">]</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">updateMember</span><span class="token punctuation">(</span>withUserName<span class="token punctuation">:</span> <span class="token string">&quot;new name&quot;</span><span class="token punctuation">,</span> memberId<span class="token punctuation">:</span> <span class="token string">&quot;0000008byw&quot;</span><span class="token punctuation">,</span> allowUnlock<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> timeType<span class="token punctuation">:</span> <span class="token punctuation">.</span>phase<span class="token punctuation">,</span> effectiveDate<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> invalidDate<span class="token punctuation">:</span> <span class="token function">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addingTimeInterval</span><span class="token punctuation">(</span><span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;update success&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
            <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="delete-lock-member"><a name="delete-lock-member" class="anchor-navigation-ex-anchor" href="#delete-lock-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.4. Delete Lock Member</h3>
<p>SDK provides the feature of deleting the member of the lock. The member of the lock will interact with the hardware and delete all unlocking methods and passwords of the user. The operation requires the device to maintain a bluetooth connection.</p>
<pre class="language-"><code class="lang-sequence">Title: Delete Lock Member

participant server
participant app
participant lock

note over app: delete member
app-&gt;lock: create bluetooth connection
app-&gt;lock: send delete user command data
lock--&gt;app: response command result
app-&gt;server: send delete user reques
server--&gt;app: response result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                         success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessBOOL<span class="token punctuation">)</span>success
                         failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock removeMemberWithMemberId<span class="token punctuation">:</span><span class="token string">@&quot;000000747d&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete lock member success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete lock member success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>     
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="connection-status"><a name="connection-status" class="anchor-navigation-ex-anchor" href="#connection-status"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Connection status</h2>
<p>The Bluetooth door lock requires the App to turn on Bluetooth before some features can be used normally. The SDK will automatically connect, usually use the following methods to determine the device connection status.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">/// If not connect or disconnected during use, call this method to connect</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>autoConnect<span class="token punctuation">;</span>

<span class="token comment">/// Whether the device and mobile phone have established a Bluetooth connection, if it is NO, call `autoConnect` to connect device</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isBLEConnected<span class="token punctuation">;</span>
</code></pre>
<h2 id="dynamic-password"><a name="dynamic-password" class="anchor-navigation-ex-anchor" href="#dynamic-password"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Dynamic Password</h2>
<h3 id="get-dynamic-password"><a name="get-dynamic-password" class="anchor-navigation-ex-anchor" href="#get-dynamic-password"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. Get Dynamic Password</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getLockDynamicPasswordWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessString<span class="token punctuation">)</span>success
                                  failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block, dynamic password list</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    TuyaSmartBLELockDevice <span class="token operator">*</span>lock <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartBLELockDevice deviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;your_lock_device_id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>lock getLockDynamicPasswordWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;result %@&quot;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">let</span> lockDevice <span class="token operator">=</span> <span class="token function">TuyaSmartBLELockDevice</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_lock_device_id&quot;</span><span class="token punctuation">)</span>
    lockDevice<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getLockDynamicPassword</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>pwd<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;result <span class="token interpolation"><span class="token delimiter variable">\(</span>pwd<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="ble-unlock"><a name="ble-unlock" class="anchor-navigation-ex-anchor" href="#ble-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. BLE Unlock</h2>
<pre class="language-"><code class="lang-sequence">Title: BLE Unlock

participant user
participant app
participant lock

note over app: bluetooth open, lock device connected
user-&gt;app: unlock
app-&gt;lock: use ble send unlock command data
note over lock: receive command, execute
lock--&gt;app: send unlock result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>unlockWithStatus<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>status
                 success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success
                 failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>Unlock status</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    TuyaSmartBLELockDevice <span class="token operator">*</span>lock <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartBLELockDevice deviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;your_lock_device_id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    BOOL status <span class="token operator">=</span> YES<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>lock unlockWithStatus<span class="token punctuation">:</span>status success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;unlock success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">let</span> lockDevice <span class="token operator">=</span> <span class="token function">TuyaSmartBLELockDevice</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_lock_device_id&quot;</span><span class="token punctuation">)</span>    
    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span>withStatus<span class="token punctuation">:</span> status<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;unlock success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>manualLockWithStatus<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>status
                     success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                     failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>status</td>
<td>Unlock status</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    TuyaSmartBLELockDevice <span class="token operator">*</span>lock <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartBLELockDevice deviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;your_lock_device_id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    BOOL status <span class="token operator">=</span> YES<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>lock manualLockWithStatus<span class="token punctuation">:</span>status success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;unlock success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">let</span> lockDevice <span class="token operator">=</span> <span class="token function">TuyaSmartBLELockDevice</span><span class="token punctuation">(</span>deviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_lock_device_id&quot;</span><span class="token punctuation">)</span>    
    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">manualLock</span><span class="token punctuation">(</span>withStatus<span class="token punctuation">:</span> status<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;unlock success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>    
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="lock-record"><a name="lock-record" class="anchor-navigation-ex-anchor" href="#lock-record"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. Lock Record</h2>
<h3 id="get-lock-records"><a name="get-lock-records" class="anchor-navigation-ex-anchor" href="#get-lock-records"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.1. Get Lock Records</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getAlarmRecordListWithOffset<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>offset
                               limit<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>limit
                             success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartLockRecordModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>records<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                             failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>offset</td>
<td>Data page number</td>
</tr>
<tr>
<td>limit</td>
<td>Data number</td>
</tr>
<tr>
<td>success</td>
<td>Success block, lock record list</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong><code>TuyaSmartLockRecordModel</code></strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Declaration</th>
</tr>
</thead>
<tbody>
<tr>
<td>userId</td>
<td>NSString</td>
<td>User id</td>
</tr>
<tr>
<td>userName</td>
<td>NSString</td>
<td>User name</td>
</tr>
<tr>
<td>time</td>
<td>NSTimeInterval</td>
<td>Timestamp, 13 digits</td>
</tr>
<tr>
<td>devId</td>
<td>NSString</td>
<td>Device id</td>
</tr>
<tr>
<td>dpData</td>
<td>NSDictionary</td>
<td>Dp point data</td>
</tr>
<tr>
<td>tags</td>
<td>NSInteger</td>
<td>Tags&#xFF0C;0 means other, 1 means hijack warning</td>
</tr>
<tr>
<td>dpsArray</td>
<td>NSArray<nsdictionary *=""></nsdictionary></td>
<td>Data point list</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock getAlarmRecordListWithOffset<span class="token punctuation">:</span><span class="token number">0</span> limit<span class="token punctuation">:</span><span class="token number">50</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartLockRecordModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull records<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;alarm records: %@&quot;</span><span class="token punctuation">,</span> records<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getAlarmRecordList</span><span class="token punctuation">(</span>withOffset<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>records<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;alarm records: <span class="token interpolation"><span class="token delimiter variable">\(</span>records<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="get-door-lock-unlock-records"><a name="get-door-lock-unlock-records" class="anchor-navigation-ex-anchor" href="#get-door-lock-unlock-records"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.2. Get Door Lock Unlock Records</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getUnlockRecordListWithOffset<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>offset
                                limit<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>limit
                              success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockRecordModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>records<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                              failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>offset</td>
<td>Data page number</td>
</tr>
<tr>
<td>limit</td>
<td>Data number</td>
</tr>
<tr>
<td>success</td>
<td>Success block, unlock records list</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock getUnlockRecordListWithOffset<span class="token punctuation">:</span><span class="token number">0</span> limit<span class="token punctuation">:</span><span class="token number">50</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartLockRecordModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull records<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;unlock records: %@&quot;</span><span class="token punctuation">,</span> records<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getUnlockRecordList</span><span class="token punctuation">(</span>withOffset<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> limit<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>records<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;unlock records <span class="token interpolation"><span class="token delimiter variable">\(</span>records<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="unlock-mode-management"><a name="unlock-mode-management" class="anchor-navigation-ex-anchor" href="#unlock-mode-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. Unlock Mode Management</h2>
<h3 id="password-unlock"><a name="password-unlock" class="anchor-navigation-ex-anchor" href="#password-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.1. Password Unlock</h3>
<h4 id="add-password"><a name="add-password" class="anchor-navigation-ex-anchor" href="#add-password"><i class="fa fa-link" aria-hidden="true"></i></a><a name="add-password" class="plugin-anchor" href="#add-password"><i class="fa fa-link" aria-hidden="true"></i></a>Add Password</h4>
<p>SDK provides the feature of adding a password, <strong> The timeliness of the password follows the timeliness of the members, and the device needs to maintain a Bluetooth connection when adding</strong></p>
<pre class="language-"><code class="lang-sequence">Title: Add Password

participant server
participant app
participant lock

note over app: input password info
app-&gt;lock: create bluetooth connection
app-&gt;lock: send add password command data
lock--&gt;app: response command result
app-&gt;server: send add password request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addPasswordForMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                                password<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>password
                              unlockName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockName
                           needHijacking<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>needHijacking
                                 success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessString<span class="token punctuation">)</span>success
                                 failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>password</td>
<td>Password, number</td>
</tr>
<tr>
<td>unlockName</td>
<td>Password name</td>
</tr>
<tr>
<td>needHijacking</td>
<td>Need Hijacking</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock addPasswordForMemberWithMemberId<span class="token punctuation">:</span><span class="token string">@&quot;00000074zg&quot;</span> password<span class="token punctuation">:</span><span class="token string">@&quot;774642&quot;</span> unlockName<span class="token punctuation">:</span><span class="token string">@&quot;password774642&quot;</span> needHijacking<span class="token punctuation">:</span>YES success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;create success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addPasswordForMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;00000074zg&quot;</span><span class="token punctuation">,</span> password<span class="token punctuation">:</span> <span class="token string">&quot;774642&quot;</span><span class="token punctuation">,</span> unlockName<span class="token punctuation">:</span> <span class="token string">&quot;password774642&quot;</span><span class="token punctuation">,</span> needHijacking<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;create success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>             
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="get-password-list"><a name="get-password-list" class="anchor-navigation-ex-anchor" href="#get-password-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-password-list" class="plugin-anchor" href="#get-password-list"><i class="fa fa-link" aria-hidden="true"></i></a>Get Password List</h4>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getPasswordListWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>models<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                           failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block, password list</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong><code>TuyaSmartBLELockOpmodeModel</code> </strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Declaration</th>
</tr>
</thead>
<tbody>
<tr>
<td>opmode</td>
<td>NSString</td>
<td>Unlock type</td>
</tr>
<tr>
<td>sourceAttribute</td>
<td>NSUInteger</td>
<td>Source of unlock type, 1: app 2: lock offline input 3: lock administrator entry</td>
</tr>
<tr>
<td>unlockName</td>
<td>NSString</td>
<td>Unlock name</td>
</tr>
<tr>
<td>userName</td>
<td>NSString</td>
<td>Unlock user name</td>
</tr>
<tr>
<td>lockUserId</td>
<td>long long</td>
<td>Lock user id</td>
</tr>
<tr>
<td>userId</td>
<td>NSString</td>
<td>Member id</td>
</tr>
<tr>
<td>opmodeValue</td>
<td>NSString</td>
<td>Lock id</td>
</tr>
<tr>
<td>opmodeId</td>
<td>NSString</td>
<td>Dp id</td>
</tr>
<tr>
<td>unlockAttr</td>
<td>NSUInteger</td>
<td>Unlock attribute</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock getPasswordListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull models<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;password list %@&quot;</span><span class="token punctuation">,</span> models<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getPasswordList</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>models<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;password list <span class="token interpolation"><span class="token delimiter variable">\(</span>models<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>               
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="delete-password"><a name="delete-password" class="anchor-navigation-ex-anchor" href="#delete-password"><i class="fa fa-link" aria-hidden="true"></i></a><a name="delete-password" class="plugin-anchor" href="#delete-password"><i class="fa fa-link" aria-hidden="true"></i></a>Delete Password</h4>
<p>SDK provides the feature of deleting ordinary passwords, <strong> requires the device to maintain bluetooth connection when deleting </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Delete Password

participant server
participant app
participant lock

note over app: delete password
app-&gt;lock: create bluetooth connection
app-&gt;lock: send delete command data
lock--&gt;app: reponse delete result
app-&gt;server: send delete request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removePasswordForMemberWithOpmodeModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token punctuation">)</span>opmodeModel
                                       success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>opmodeModel</td>
<td>Unlock model, from unlock list</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock removePasswordForMemberWithOpmodeModel<span class="token punctuation">:</span>model success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removePasswordForMember</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> model<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>                
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="fingerprint-unlock"><a name="fingerprint-unlock" class="anchor-navigation-ex-anchor" href="#fingerprint-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.2. Fingerprint Unlock</h3>
<h4 id="add-fingerprint"><a name="add-fingerprint" class="anchor-navigation-ex-anchor" href="#add-fingerprint"><i class="fa fa-link" aria-hidden="true"></i></a><a name="add-fingerprint" class="plugin-anchor" href="#add-fingerprint"><i class="fa fa-link" aria-hidden="true"></i></a>Add Fingerprint</h4>
<p>SDK provide the feature of adding fingerprint unlock, adding fingerprint unlock requires frequent interaction with the device, <strong> the device needs to maintain bluetooth connection when adding </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Add Fingerprint


participant user
participant lock
participant app
participant server

user-&gt;app: start request add fingerprint
app-&gt;lock: create bluetooth connection
app-&gt;lock: send add fingerprint command data
lock--&gt;app: reply to unlock fingerprint request.\n need to enter the number of times information, etc.
note over app: show information

user-&gt;lock: 1. input fingerprint
lock--&gt;app: 1.return the input result, the remaining input information
note over app: 1. show input information

user-&gt;lock: 2. input fingerprint
lock--&gt;app: 2. return the input result, the remaining input information
note over app: 2. show input information

user-&gt;lock: ...input fingerprint

user-&gt;lock: input fingerprint
lock--&gt;app: input fingerprint finish, return result
note over app: show result
note over app: merge result data
app-&gt;server: send add unlock request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addFingerPrintForMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                                 unlockName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockName
                              needHijacking<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>needHijacking
                                    success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessString<span class="token punctuation">)</span>success
                                    failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>unlockName</td>
<td>Unlock name</td>
</tr>
<tr>
<td>needHijacking</td>
<td>Need hijacking</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token comment">// set delegate</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock addFingerPrintForMemberWithMemberId<span class="token punctuation">:</span><span class="token string">@&quot;00000074zg&quot;</span> unlockName<span class="token punctuation">:</span><span class="token string">@&quot;add fingerprint&quot;</span> needHijacking<span class="token punctuation">:</span>YES success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// TuyaSmartBLELockDeviceDelegate</span>
    <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLELockDevice <span class="token operator">*</span><span class="token punctuation">)</span>device didReceiveAddOpMessage<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLELockOpMessageModel <span class="token operator">*</span><span class="token punctuation">)</span>opMessage <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;Received new unlock method callback message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addFingerPrintForMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> unlockName<span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> needHijacking<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add success&quot;</span><span class="token punctuation">)</span>      
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>             
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// TuyaSmartBLELockDeviceDelegate</span>
    <span class="token keyword">extension</span> <span class="token builtin">ViewController</span> <span class="token punctuation">:</span><span class="token builtin">TuyaSmartBLELockDeviceDelegate</span> <span class="token punctuation">{</span>

    <span class="token keyword">func</span> <span class="token function">device</span><span class="token punctuation">(</span><span class="token number">_</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartBLELockDevice</span><span class="token punctuation">,</span> didReceiveAddOpMessage opMessage<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartBLELockOpMessageModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Received new unlock method callback message&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="get-fingerprint-list"><a name="get-fingerprint-list" class="anchor-navigation-ex-anchor" href="#get-fingerprint-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-fingerprint-list" class="plugin-anchor" href="#get-fingerprint-list"><i class="fa fa-link" aria-hidden="true"></i></a>Get Fingerprint List</h4>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getFingerPrintListWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>models<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                              failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block, fingerprint list</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock getFingerPrintListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull models<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;fingerprint list %@&quot;</span><span class="token punctuation">,</span> models<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getFingerPrintList</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>models<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;fingerprint list <span class="token interpolation"><span class="token delimiter variable">\(</span>models<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>               
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="delete-fingerprint"><a name="delete-fingerprint" class="anchor-navigation-ex-anchor" href="#delete-fingerprint"><i class="fa fa-link" aria-hidden="true"></i></a><a name="delete-fingerprint" class="plugin-anchor" href="#delete-fingerprint"><i class="fa fa-link" aria-hidden="true"></i></a>Delete Fingerprint</h4>
<p>SDK provides the feature of deleting fingerprints, <strong> requires the device to maintain bluetooth connection when deleting </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Delete Fingerprint

participant server
participant app
participant lock

note over app: delete fingerprint
app-&gt;lock: create bluetooth connection
app-&gt;lock: send delete fingerprint command data
lock--&gt;app: response delete result
app-&gt;server: send delete request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeFingerPrintForMemberWithOpmodeModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token punctuation">)</span>opmodeModel
                                           success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                                          failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>opmodeModel</td>
<td>Unlock model, from unlock list</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock removeFingerPrintForMemberWithOpmodeModel<span class="token punctuation">:</span>model success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeFingerPrintForMember</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> model<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>                
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="card-unlock"><a name="card-unlock" class="anchor-navigation-ex-anchor" href="#card-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.3. Card Unlock</h3>
<h4 id="add-card"><a name="add-card" class="anchor-navigation-ex-anchor" href="#add-card"><i class="fa fa-link" aria-hidden="true"></i></a><a name="add-card" class="plugin-anchor" href="#add-card"><i class="fa fa-link" aria-hidden="true"></i></a>Add Card</h4>
<p>SDK provides the function of adding a card to unlock, <strong> Requires the device to maintain a bluetooth connection when adding </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Add Card

participant server
participant app
participant lock

note over app: add card info
app-&gt;lock: create bluetooth connection
app-&gt;lock: send add card command data
lock--&gt;app: response add result
app-&gt;server: send add card request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addCardForMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                          unlockName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockName
                       needHijacking<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>needHijacking
                             success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessString<span class="token punctuation">)</span>success
                             failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>unlockName</td>
<td>Unlock name</td>
</tr>
<tr>
<td>needHijacking</td>
<td>Need hijacking</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock addCardForMemberWithMemberId<span class="token punctuation">:</span><span class="token string">@&quot;00000074zg&quot;</span> unlockName<span class="token punctuation">:</span><span class="token string">@&quot;card 1&quot;</span> needHijacking<span class="token punctuation">:</span>YES success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add card success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addCardForMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;00000074zg&quot;</span><span class="token punctuation">,</span> unlockName<span class="token punctuation">:</span> <span class="token string">&quot;card 1&quot;</span><span class="token punctuation">,</span> needHijacking<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add card success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>             
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="get-card-list"><a name="get-card-list" class="anchor-navigation-ex-anchor" href="#get-card-list"><i class="fa fa-link" aria-hidden="true"></i></a><a name="get-card-list" class="plugin-anchor" href="#get-card-list"><i class="fa fa-link" aria-hidden="true"></i></a>Get Card list</h4>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCardListWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable <span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>models<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block, card list</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock getCardListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull models<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;card list %@&quot;</span><span class="token punctuation">,</span> models<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getCardList</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>models<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;card list <span class="token interpolation"><span class="token delimiter variable">\(</span>models<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>               
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="delete-card"><a name="delete-card" class="anchor-navigation-ex-anchor" href="#delete-card"><i class="fa fa-link" aria-hidden="true"></i></a><a name="delete-card" class="plugin-anchor" href="#delete-card"><i class="fa fa-link" aria-hidden="true"></i></a>Delete Card</h4>
<p>SDK provides the function of deleting the card, <strong> Requires the device to maintain bluetooth connection when deleting </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Delete Card

participant server
participant app
participant lock

note over app: start delete card
app-&gt;lock: create bluetooth connection
app-&gt;lock: send delete card command data
lock--&gt;app: response delete result
app-&gt;server: send delete request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeCardForMemberWithOpmodeModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token punctuation">)</span>opmodeModel
                                   success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                                   failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>opmodeModel</td>
<td>Unlock model, from unlock list</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock removeCardForMemberWithOpmodeModel<span class="token punctuation">:</span>model success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeCardForMember</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> model<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>                
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="universal-unlock-operation"><a name="universal-unlock-operation" class="anchor-navigation-ex-anchor" href="#universal-unlock-operation"><i class="fa fa-link" aria-hidden="true"></i></a>1.7.4. Universal Unlock Operation</h3>
<h4 id="add-universal-unlock"><a name="add-universal-unlock" class="anchor-navigation-ex-anchor" href="#add-universal-unlock"><i class="fa fa-link" aria-hidden="true"></i></a><a name="add-universal-unlock" class="plugin-anchor" href="#add-universal-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>Add Universal Unlock</h4>
<p>SDK provides the function of adding a universal unlocking method, <strong> Requires the device to maintain a bluetooth connection when adding </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Add Universal Unlock

participant server
participant app
participant lock

note over app: start add
app-&gt;lock: create bluetooth connection
app-&gt;lock: send add unlock command data 
lock--&gt;app: response add result
app-&gt;server: send add unlock request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addUnlockOpmodeForMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                                     isAdmin<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isAdmin
                                unlockDpCode<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockDpCode
                                unlockOpType<span class="token punctuation">:</span><span class="token punctuation">(</span>TYUnlockOpType<span class="token punctuation">)</span>unlockOpType
                                  unlockName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockName
                               effectiveDate<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable NSDate <span class="token operator">*</span><span class="token punctuation">)</span>effectiveDate
                                 invalidDate<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable NSDate <span class="token operator">*</span><span class="token punctuation">)</span>invalidDate
                                       times<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>times
                                  dataLength<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>dataLength
                                 dataContent<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>dataContent
                                     timeout<span class="token punctuation">:</span><span class="token punctuation">(</span>NSTimeInterval<span class="token punctuation">)</span>timeout
                               needHijacking<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>needHijacking
                                     success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessString<span class="token punctuation">)</span>success
                                     failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>isAdmin</td>
<td>The member is admin</td>
</tr>
<tr>
<td>unlockDpCode</td>
<td>The dp code corresponding to the unlocking method, you can view the product definition in detail, such as card unlocking, code = unlock_card</td>
</tr>
<tr>
<td>unlockOpType</td>
<td>TYUnlockOpType enum</td>
</tr>
<tr>
<td>unlockName</td>
<td>Unlock name</td>
</tr>
<tr>
<td>effectiveDate</td>
<td>Effective date</td>
</tr>
<tr>
<td>invalidDate</td>
<td>Invalid date</td>
</tr>
<tr>
<td>times</td>
<td>Unlock times</td>
</tr>
<tr>
<td>dataLength</td>
<td>Data length, equals data content length</td>
</tr>
<tr>
<td>dataContent</td>
<td>Data content</td>
</tr>
<tr>
<td>timeout</td>
<td>Command response timeout time, if user interaction is required, such as fingerprints, there is no need to set a timeout.</td>
</tr>
<tr>
<td>needHijacking</td>
<td>Need hijacking</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock addUnlockOpmodeForMemberWithMemberId<span class="token punctuation">:</span><span class="token string">@&quot;00000074zg&quot;</span>
                                            isAdmin<span class="token punctuation">:</span>NO
                                       unlockDpCode<span class="token punctuation">:</span><span class="token string">@&quot;unlock_password&quot;</span>
                                       unlockOpType<span class="token punctuation">:</span>TYUnlockOpTypePassword
                                         unlockName<span class="token punctuation">:</span><span class="token string">@&quot;password774641&quot;</span>
                                      effectiveDate<span class="token punctuation">:</span>nil
                                        invalidDate<span class="token punctuation">:</span>nil
                                              times<span class="token punctuation">:</span><span class="token number">10</span>
                                         dataLength<span class="token punctuation">:</span><span class="token number">6</span>
                                        dataContent<span class="token punctuation">:</span><span class="token string">@&quot;774641&quot;</span>
                                            timeout<span class="token punctuation">:</span><span class="token number">6</span>
                                      needHijacking<span class="token punctuation">:</span>YES
                                            success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addUnlockOpmodeForMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;00000074zg&quot;</span><span class="token punctuation">,</span> isAdmin<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> unlockDpCode<span class="token punctuation">:</span> <span class="token string">&quot;unlock_password&quot;</span><span class="token punctuation">,</span> unlockOpType<span class="token punctuation">:</span> <span class="token builtin">TYUnlockOpTypePassword</span><span class="token punctuation">,</span> unlockName<span class="token punctuation">:</span> <span class="token string">&quot;password774641&quot;</span><span class="token punctuation">,</span> effectiveDate<span class="token punctuation">:</span> <span class="token constant">nil</span><span class="token punctuation">,</span> invalidDate<span class="token punctuation">:</span> <span class="token constant">nil</span><span class="token punctuation">,</span> times<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> dataLength<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> dataContent<span class="token punctuation">:</span> <span class="token string">&quot;774641&quot;</span><span class="token punctuation">,</span> timeout<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> needHijacking<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
         <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>            
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="update-universal-unlock"><a name="update-universal-unlock" class="anchor-navigation-ex-anchor" href="#update-universal-unlock"><i class="fa fa-link" aria-hidden="true"></i></a><a name="update-universal-unlock" class="plugin-anchor" href="#update-universal-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>Update Universal Unlock</h4>
<p>SDK provides the function of general modification and update unlocking method, <strong> Requires the device to maintain bluetooth connection when adding </strong></p>
<pre class="language-"><code class="lang-sequence">Title: Update Universal Unlock

participant server
participant app
participant lock

note over app: start update new unlock info
app-&gt;lock: create bluetooth connection
app-&gt;lock: send update unlock command data
lock--&gt;app: response update result
app-&gt;server: send update unlock request
server--&gt;app: return result
note over app: show result
</code></pre>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>modifyUnlockOpmodeForMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>memberId
                                       opmodeId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>opmodeId
                                        isAdmin<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isAdmin
                                     firmwareId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>firmwareId
                                   unlockDpCode<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockDpCode
                                   unlockOpType<span class="token punctuation">:</span><span class="token punctuation">(</span>TYUnlockOpType<span class="token punctuation">)</span>unlockOpType
                                     unlockName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockName
                                  effectiveDate<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable NSDate <span class="token operator">*</span><span class="token punctuation">)</span>effectiveDate
                                    invalidDate<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable NSDate <span class="token operator">*</span><span class="token punctuation">)</span>invalidDate
                                          times<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>times
                                     dataLength<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>dataLength
                                    dataContent<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>dataContent
                                        timeout<span class="token punctuation">:</span><span class="token punctuation">(</span>NSTimeInterval<span class="token punctuation">)</span>timeout
                                  needHijacking<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>needHijacking
                                        success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessBOOL<span class="token punctuation">)</span>success
                                        failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Member id</td>
</tr>
<tr>
<td>opmodeId</td>
<td>Unlock model id</td>
</tr>
<tr>
<td>isAdmin</td>
<td>Member is admin</td>
</tr>
<tr>
<td>firmwareId</td>
<td>Firmware id</td>
</tr>
<tr>
<td>unlockDpCode</td>
<td>The dp code corresponding to the unlocking method, you can view the product definition in detail, such as card unlocking, code = unlock_card</td>
</tr>
<tr>
<td>unlockOpType</td>
<td>TYUnlockOpType enum</td>
</tr>
<tr>
<td>unlockName</td>
<td>Unlock name</td>
</tr>
<tr>
<td>effectiveDate</td>
<td>Effective date</td>
</tr>
<tr>
<td>invalidDate</td>
<td>Invalid date</td>
</tr>
<tr>
<td>times</td>
<td>Unlock times</td>
</tr>
<tr>
<td>dataLength</td>
<td>Data length, equal data content length</td>
</tr>
<tr>
<td>dataContent</td>
<td>Data content</td>
</tr>
<tr>
<td>timeout</td>
<td>Command response timeout time, if user interaction is required, such as fingerprints, there is no need to set a timeout.</td>
</tr>
<tr>
<td>needHijacking</td>
<td>Need hijacking</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock modifyUnlockOpmodeForMemberWithMemberId<span class="token punctuation">:</span><span class="token string">@&quot;00000074zg&quot;</span>
                                              opmodeId<span class="token punctuation">:</span><span class="token string">@&quot;232323&quot;</span>
                                               isAdmin<span class="token punctuation">:</span>NO
                                            firmwareId<span class="token punctuation">:</span><span class="token number">15</span> <span class="token comment">// opmodevalue</span>
                                          unlockDpCode<span class="token punctuation">:</span><span class="token string">@&quot;unlock_password&quot;</span>
                                          unlockOpType<span class="token punctuation">:</span>TYUnlockOpTypePassword
                                            unlockName<span class="token punctuation">:</span><span class="token string">@&quot;password774641&quot;</span>
                                         effectiveDate<span class="token punctuation">:</span>nil
                                           invalidDate<span class="token punctuation">:</span>nil
                                                 times<span class="token punctuation">:</span><span class="token number">10</span>
                                            dataLength<span class="token punctuation">:</span><span class="token number">6</span>
                                           dataContent<span class="token punctuation">:</span><span class="token string">@&quot;774641&quot;</span>
                                               timeout<span class="token punctuation">:</span><span class="token number">6</span>
                                         needHijacking<span class="token punctuation">:</span>YES
                                               success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">modifyUnlockOpmodeForMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> <span class="token string">&quot;00000074zg&quot;</span><span class="token punctuation">,</span> opmodeId<span class="token punctuation">:</span> <span class="token string">&quot;232323&quot;</span><span class="token punctuation">,</span> isAdmin<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> firmwareId<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> unlockDpCode<span class="token punctuation">:</span> <span class="token string">&quot;unlock_password&quot;</span><span class="token punctuation">,</span> unlockOpType<span class="token punctuation">:</span> <span class="token builtin">TYUnlockOpTypePassword</span><span class="token punctuation">,</span> unlockName<span class="token punctuation">:</span> <span class="token string">&quot;password774641&quot;</span><span class="token punctuation">,</span> effectiveDate<span class="token punctuation">:</span> <span class="token constant">nil</span><span class="token punctuation">,</span> invalidDate<span class="token punctuation">:</span> <span class="token constant">nil</span><span class="token punctuation">,</span> times<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> dataLength<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span> dataContent<span class="token punctuation">:</span> <span class="token string">&quot;774641&quot;</span><span class="token punctuation">,</span> timeout<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> needHijacking<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;update success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error:, error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h4 id="delete-universal-unlock"><a name="delete-universal-unlock" class="anchor-navigation-ex-anchor" href="#delete-universal-unlock"><i class="fa fa-link" aria-hidden="true"></i></a><a name="delete-universal-unlock" class="plugin-anchor" href="#delete-universal-unlock"><i class="fa fa-link" aria-hidden="true"></i></a>Delete Universal Unlock</h4>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeUnlockOpmodeForMemberWithOpmodeModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartBLELockOpmodeModel <span class="token operator">*</span><span class="token punctuation">)</span>opmodeModel
                                           isAdmin<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isAdmin
                                      unlockDpCode<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>unlockDpCode
                                      unlockOpType<span class="token punctuation">:</span><span class="token punctuation">(</span>TYUnlockOpType<span class="token punctuation">)</span>unlockOpType
                                           timeout<span class="token punctuation">:</span><span class="token punctuation">(</span>NSTimeInterval<span class="token punctuation">)</span>timeout
                                           success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                                           failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>opmodeModel</td>
<td>Unlock model</td>
</tr>
<tr>
<td>isAdmin</td>
<td>Member is admin</td>
</tr>
<tr>
<td>unlockDpCode</td>
<td>The dp code corresponding to the unlocking method, you can view the product definition in detail, such as card unlocking, code = unlock_card</td>
</tr>
<tr>
<td>unlockOpType</td>
<td><code>TYUnlockOpType</code> enum</td>
</tr>
<tr>
<td>timeout</td>
<td>Command response timeout time, if user interaction is required, such as fingerprint, do not set timeout</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c">    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>lock removeUnlockOpmodeForMemberWithOpmodeModel<span class="token punctuation">:</span>model
                                                  isAdmin<span class="token punctuation">:</span>NO
                                             unlockDpCode<span class="token punctuation">:</span><span class="token string">@&quot;unlock_password&quot;</span>
                                             unlockOpType<span class="token punctuation">:</span>TYUnlockOpTypePassword
                                                  timeout<span class="token punctuation">:</span><span class="token number">10</span>
                                                  success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift">    <span class="token keyword">self</span><span class="token punctuation">.</span>lock<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeUnlockOpmodeForMember</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> model<span class="token punctuation">,</span> isAdmin<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> unlockDpCode<span class="token punctuation">:</span> <span class="token string">&quot;unlock_password&quot;</span><span class="token punctuation">,</span> unlockOpType<span class="token punctuation">:</span> <span class="token builtin">TYUnlockOpTypePassword</span><span class="token punctuation">,</span> timeout<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete success&quot;</span><span class="token punctuation">)</span>    
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>            
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="ble-door-lock-function-points"><a name="ble-door-lock-function-points" class="anchor-navigation-ex-anchor" href="#ble-door-lock-function-points"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. BLE Door Lock Function Points</h2>
<table>
<thead>
<tr>
<th>dp name</th>
<th>dp code</th>
</tr>
</thead>
<tbody>
<tr>
<td>create unlock method</td>
<td>unlock_method_create</td>
</tr>
<tr>
<td>delete unlock method</td>
<td>unlock_method_delete</td>
</tr>
<tr>
<td>modify unlock method</td>
<td>unlock_method_modify</td>
</tr>
<tr>
<td>disable unlock method</td>
<td>unlock_method_freeze</td>
</tr>
<tr>
<td>enable unlock method</td>
<td>unlock_method_enable</td>
</tr>
<tr>
<td>blue tooth unlock feedback</td>
<td>bluetooth_unlock_fb</td>
</tr>
<tr>
<td>unlock by bluetooth</td>
<td>bluetooth_unlock</td>
</tr>
<tr>
<td>query bluetooth unlock record</td>
<td>unlock_ble</td>
</tr>
<tr>
<td>query fingerprint unlock record</td>
<td>unlock_fingerprint</td>
</tr>
<tr>
<td>query password unlock record</td>
<td>unlock_password</td>
</tr>
<tr>
<td>query temporary unlock record</td>
<td>unlock_temporary</td>
</tr>
<tr>
<td>query dynamic unlock record</td>
<td>unlock_dynamic</td>
</tr>
<tr>
<td>query card unlock record</td>
<td>unlock_card</td>
</tr>
<tr>
<td>query face unlock record</td>
<td>unlock_face</td>
</tr>
<tr>
<td>query key unlock record</td>
<td>unlock_key</td>
</tr>
<tr>
<td>query eye unlock record</td>
<td>unlock_eye</td>
</tr>
<tr>
<td>query hand unlock record</td>
<td>unlock_hand</td>
</tr>
<tr>
<td>query finger vein unlock record</td>
<td>unlock_finger_vein</td>
</tr>
<tr>
<td>alarm record</td>
<td>alarm_lock</td>
</tr>
<tr>
<td>apply remote unlock</td>
<td>unlock_request</td>
</tr>
<tr>
<td>reply remote unlock</td>
<td>reply_unlock_request</td>
</tr>
<tr>
<td>battery status</td>
<td>battery_state</td>
</tr>
<tr>
<td>residual electricity</td>
<td>residual_electricity</td>
</tr>
<tr>
<td>lock from inside</td>
<td>reverse_lock</td>
</tr>
<tr>
<td>child lock status</td>
<td>child_lock</td>
</tr>
<tr>
<td>automatic lock switch</td>
<td>automatic_lock</td>
</tr>
<tr>
<td>Synchronized member opening method</td>
<td>synch_member</td>
</tr>
<tr>
<td>Auto lock delay time setting</td>
<td>auto_lock_time</td>
</tr>
<tr>
<td>auto lock timer</td>
<td>auto_lock_timer</td>
</tr>
<tr>
<td>finger input times</td>
<td>finger_input_times</td>
</tr>
<tr>
<td>doorbell song selete</td>
<td>doorbell_song</td>
</tr>
<tr>
<td>doorbell volume</td>
<td>doorbell_volume</td>
</tr>
<tr>
<td>language</td>
<td>language</td>
</tr>
<tr>
<td>lock welcome words</td>
<td>welcome_words</td>
</tr>
<tr>
<td>door opened status</td>
<td>door_opened</td>
</tr>
<tr>
<td>key volume</td>
<td>key_tone</td>
</tr>
<tr>
<td>beep volume</td>
<td>beep_volume</td>
</tr>
<tr>
<td>rtc lock</td>
<td>rtc_lock</td>
</tr>
<tr>
<td>auto lock countdown time</td>
<td>auto_lock_countdown</td>
</tr>
<tr>
<td>manual lock</td>
<td>manual_lock</td>
</tr>
<tr>
<td>lock motor status</td>
<td>lock_motor_state</td>
</tr>
<tr>
<td>lock motor direction</td>
<td>lock_motor_direction</td>
</tr>
<tr>
<td>disable unlock user</td>
<td>unlock_user_freeze</td>
</tr>
<tr>
<td>enable unlock user</td>
<td>unlock_user_enable</td>
</tr>
<tr>
<td>create temporary password</td>
<td>temporary_password_creat</td>
</tr>
<tr>
<td>delete temporary password</td>
<td>temporary_password_delete</td>
</tr>
<tr>
<td>modify temporary password</td>
<td>temporary_password_modify</td>
</tr>
<tr>
<td>sync unlock method</td>
<td>synch_method</td>
</tr>
<tr>
<td>motor torque</td>
<td>motor_torque</td>
</tr>
<tr>
<td>unlock method combination</td>
<td>unlock_double</td>
</tr>
<tr>
<td>arming mode switch</td>
<td>arming_mode</td>
</tr>
<tr>
<td>set remote no password unlock</td>
<td>remote_no_pd_setkey</td>
</tr>
<tr>
<td>remote no password unlock</td>
<td>remote_no_dp_key</td>
</tr>
<tr>
<td>remote phone unlock report</td>
<td>unlock_phone_remote</td>
</tr>
<tr>
<td>remote vioce unlock report</td>
<td>unlock_voice_remote</td>
</tr>
<tr>
<td>password offline time</td>
<td>password_offline_time</td>
</tr>
<tr>
<td>door open close event</td>
<td>open_close</td>
</tr>
<tr>
<td>hijack alarm record</td>
<td>hijack</td>
</tr>
<tr>
<td>open the door from inside</td>
<td>open_inside</td>
</tr>
<tr>
<td>door opening and closing status</td>
<td>closed_opened</td>
</tr>
<tr>
<td>doorbell alarm record</td>
<td>doorbell</td>
</tr>
<tr>
<td>SMS notifacation</td>
<td>message</td>
</tr>
<tr>
<td>lock from outside</td>
<td>anti_lock_outside</td>
</tr>
<tr>
<td>offline password unlock report</td>
<td>unlock_offline_pd</td>
</tr>
<tr>
<td>offline password clear report</td>
<td>unlock_offline_clear</td>
</tr>
<tr>
<td>single offline password clear report</td>
<td>unlock_offline_clear_single</td>
</tr>
</tbody>
</table>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="WiFiLock.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Wi-Fi Lock">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"BLE Lock","level":"3.1.3.2","depth":3,"next":{"title":"API Reference","level":"4.1","depth":1,"url":"https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html","ref":"https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html","articles":[]},"previous":{"title":"Wi-Fi Lock","level":"3.1.3.1","depth":3,"path":"resource/WiFiLock.md","ref":"./resource/WiFiLock.md","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","anchor-navigation-ex","ga","expandable-chapters-small","pageview-count","language-picker","hide-element","flexible-alerts"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_ios_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":{"zh-hans":"æ³¨æ","en":"Attention"}},"note":{"className":"info","icon":"fa fa-info-circle","label":{"zh-hans":"æç¤º","en":"Note"}},"style":"flat","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":{"zh-hans":"Tips","en":"Tip"}},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":{"zh-hans":"è­¦å","en":"Warning"}}},"ga":{"configuration":"auto","token":"UA-165828612-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/BLELock.md","mtime":"2021-01-09T03:40:24.977Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-01-09T03:41:24.778Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

