
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Smart Scene Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="SmartScene.html" />
    
    
    <link rel="prev" href="Group.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="iOSAdaptation.html">
            
                <a href="iOSAdaptation.html">
            
                    
                    iOS Adaptation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="User.html">
            
                <a href="User.html#user-management">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="User.html">
            
                <a href="User.html#use-mobile-phone-for-login">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="User.html">
            
                <a href="User.html#use-email-for-login">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="User.html">
            
                <a href="User.html#use-uid-for-login">
            
                    
                    Use UID for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="User.html">
            
                <a href="User.html#third-party-login">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="User.html">
            
                <a href="User.html#login-by-auth2">
            
                    
                    Login by Auth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="User.html">
            
                <a href="User.html#anonymous-registration">
            
                    
                    Anonymous registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="User.html">
            
                <a href="User.html#modify-user-info">
            
                    
                    Modify User Info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="User.html">
            
                <a href="User.html#logout-disable-account">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="User.html">
            
                <a href="User.html#user-data-model">
            
                    
                    User Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="User.html">
            
                <a href="User.html#handling-of-expired-session">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Home.html">
            
                <a href="Home.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Home.html">
            
                <a href="Home.html#home-information-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Home.html">
            
                <a href="Home.html#member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Home.html">
            
                <a href="Home.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="Home.html">
            
                <a href="Home.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator.html">
            
                <a href="Activator.html#device-configuration">
            
                    
                    Device Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator.html">
            
                <a href="Activator.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator.html">
            
                <a href="Activator.html#instructions">
            
                    
                    Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Activator.html">
            
                <a href="Activator.html#Implementation">
            
                    
                    Implementation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="Activator.html">
            
                <a href="Activator.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="Activator.html">
            
                <a href="Activator.html#hotspot-mode">
            
                    
                    HotSpot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.3" data-path="Activator.html">
            
                <a href="Activator.html#camera-scan-code-network-configuration">
            
                    
                    Camera Scan Code Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.4" data-path="Activator.html">
            
                <a href="Activator.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.5" data-path="Activator.html">
            
                <a href="Activator.html#sub-device-configuration">
            
                    
                    Sub-Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.6" data-path="Activator.html">
            
                <a href="Activator.html#bluetooth-configuration">
            
                    
                    Bluetooth Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html#initialize-device">
            
                    
                    Initialize Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Device.html">
            
                <a href="Device.html#delegate-of-device">
            
                    
                    Delegate of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Device.html">
            
                <a href="Device.html#functions-of-device">
            
                    
                    Functions of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength">
            
                    
                    Obtain Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="Device.html">
            
                <a href="Device.html#obtain-the-sub-device-list-of-a-gateway">
            
                    
                    Obtain the Sub-Device List of a Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="Device.html">
            
                <a href="Device.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="Device.html">
            
                <a href="Device.html#fetch-the-log-of-dp-report">
            
                    
                    Fetch the Log of DP Report
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="MultiControl.html">
            
                <a href="MultiControl.html#device-multi-control">
            
                    
                    Device Multi-Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="MultiControl.html">
            
                <a href="MultiControl.html#overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="MultiControl.html">
            
                <a href="MultiControl.html#bussiness-flowchart">
            
                    
                    Bussiness Flowchart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="MultiControl.html">
            
                <a href="MultiControl.html#get-device-dp-information">
            
                    
                    Get Device Dp Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="MultiControl.html">
            
                <a href="MultiControl.html#query-related-information-of-a-dp">
            
                    
                    Query Related Information of a Dp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="MultiControl.html">
            
                <a href="MultiControl.html#add-multi-control-group">
            
                    
                    Add Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="MultiControl.html">
            
                <a href="MultiControl.html#update-multi-control-group">
            
                    
                    Update Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="MultiControl.html">
            
                <a href="MultiControl.html#enable-or-disable-multi-control-group">
            
                    
                    Enable or Disable Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="MultiControl.html">
            
                <a href="MultiControl.html#query-devices-that-support-multi-control">
            
                    
                    Query Devices that Support Multi-control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="MultiControl.html">
            
                <a href="MultiControl.html#get-affiliate-device-details">
            
                    
                    Get Affiliate Device Details
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Share.html">
            
                <a href="Share.html#shared-devices">
            
                    
                    Share Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Share.html">
            
                <a href="Share.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Share.html">
            
                <a href="Share.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Share.html">
            
                <a href="Share.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Share.html">
            
                <a href="Share.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="Group.html">
            
                <a href="Group.html#group-management">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="Group.html">
            
                <a href="Group.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="Group.html">
            
                <a href="Group.html#create-group">
            
                    
                    Create Group
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.2.1" data-path="Group.html">
            
                <a href="Group.html#create-wi-fi-group">
            
                    
                    Create Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2.2" data-path="Group.html">
            
                <a href="Group.html#create-zigbee-group">
            
                    
                    Create ZigBee Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="Group.html">
            
                <a href="Group.html#group-operation">
            
                    
                    Group Operation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.3.1" data-path="Group.html">
            
                <a href="Group.html#instantiation">
            
                    
                    Instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.2" data-path="Group.html">
            
                <a href="Group.html#modifying-group-name">
            
                    
                    Modifying group name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.3" data-path="Group.html">
            
                <a href="Group.html#dismiss-group">
            
                    
                    Dismiss Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.4" data-path="Group.html">
            
                <a href="Group.html#sending-group-control-command">
            
                    
                    Sending group control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.5" data-path="Group.html">
            
                <a href="Group.html#group-callback-event">
            
                    
                    Group callback event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.6" data-path="Group.html">
            
                <a href="Group.html#group-data-acquisition">
            
                    
                    Group data acquisition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-condition">
            
                    
                    Scene Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-action">
            
                    
                    Scene Action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    TUYA BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-low-energy">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="BLE.html">
            
                <a href="BLE.html#preparatory-work">
            
                    
                    Preparatory Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="BLE.html">
            
                <a href="BLE.html#scanning-device">
            
                    
                    Scanning Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-function">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.6" data-path="BLE.html">
            
                <a href="BLE.html#ble-ota">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.7" data-path="BLE.html">
            
                <a href="BLE.html#error-code">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#bluetooth-meshsig">
            
                    
                    Bluetooth Mesh(SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Mesh.html">
            
                <a href="Mesh.html#bluetooth-meshtuya">
            
                    
                    Bluetooth Mesh(TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="Mesh.html">
            
                <a href="Mesh.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="Mesh.html">
            
                <a href="Mesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="Mesh.html">
            
                <a href="Mesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="Mesh.html">
            
                <a href="Mesh.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="Mesh.html">
            
                <a href="Mesh.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="Mesh.html">
            
                <a href="Mesh.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7" data-path="Mesh.html">
            
                <a href="Mesh.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.8" data-path="Mesh.html">
            
                <a href="Mesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="ExtensionAbout.html">
            
                <a href="ExtensionAbout.html">
            
                    
                    Extension SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Camera.html">
            
                <a href="Camera.html">
            
                    
                    IPC SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="ipc/rapid_integration.html">
            
                <a href="ipc/rapid_integration.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="ipc/architecture.html">
            
                <a href="ipc/architecture.html">
            
                    
                    SDK Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="ipc/camera_device.html">
            
                <a href="ipc/camera_device.html">
            
                    
                    Camera Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="ipc/activitor.html">
            
                <a href="ipc/activitor.html">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="ipc/live.html">
            
                <a href="ipc/live.html">
            
                    
                    Camera Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.5.1" data-path="ipc/live.html">
            
                <a href="ipc/live.html#live-video">
            
                    
                    Live Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.2" data-path="ipc/playback.html">
            
                <a href="ipc/playback.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.3" data-path="ipc/av_function.html">
            
                <a href="ipc/av_function.html">
            
                    
                    AV Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.6" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html">
            
                    
                    Cloud Storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.6.1" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#flow-chart">
            
                    
                    Flow Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.2" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#cloud-service">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.3" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#cloud-video">
            
                    
                    Cloud Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.7" data-path="ipc/device_points.html">
            
                <a href="ipc/device_points.html">
            
                    
                    Extension Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.7.1" data-path="ipc/device_points.html">
            
                <a href="ipc/device_points.html#data-point-id">
            
                    
                    Data Point Id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.2" data-path="ipc/lowpower.html">
            
                <a href="ipc/lowpower.html">
            
                    
                    Doorbell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.3" data-path="ipc/sd_card.html">
            
                <a href="ipc/sd_card.html">
            
                    
                    Memory Card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.4" data-path="ipc/ptz.html">
            
                <a href="ipc/ptz.html">
            
                    
                    PTZ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.8" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html">
            
                    
                    Detection Alarm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.8.1" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html#message-list">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.8.2" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html#video-message">
            
                    
                    Video Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.9" data-path="ipc/encryptImage.html">
            
                <a href="ipc/encryptImage.html">
            
                    
                    Encrypted Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.10" data-path="ipc/timeline.html">
            
                <a href="ipc/timeline.html">
            
                    
                    Timeline View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.11" data-path="ipc/errors.html">
            
                <a href="ipc/errors.html">
            
                    
                    Error Codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.12" data-path="ipc/required_permission.html">
            
                <a href="ipc/required_permission.html">
            
                    
                    Permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.13" data-path="ipc/log_file.html">
            
                <a href="ipc/log_file.html">
            
                    
                    Debug logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.14" data-path="ipc/FAQ.html">
            
                <a href="ipc/FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.15" data-path="ipc/version_record.html">
            
                <a href="ipc/version_record.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Sweeper.html">
            
                <a href="Sweeper.html#Sweeper-sdk">
            
                    
                    Sweeper SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="SweeperInterface.html">
            
                <a href="SweeperInterface.html">
            
                    
                    Gyroscope and Visual Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="SweeperLaser.html">
            
                <a href="SweeperLaser.html">
            
                    
                    Laser Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="SweeperVoiceDownload.html">
            
                <a href="SweeperVoiceDownload.html">
            
                    
                    Voice Package Download
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="SweeperWordIntroduction.html">
            
                <a href="SweeperWordIntroduction.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5" data-path="SweeperChangeLog.html">
            
                <a href="SweeperChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Lock.html">
            
                <a href="Lock.html">
            
                    
                    Smart Lock SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="WiFiLock.html">
            
                <a href="WiFiLock.html">
            
                    
                    Wi-Fi Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" data-path="BLELock.html">
            
                <a href="BLELock.html">
            
                    
                    BLE Lock
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <a target="_blank" href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    ChangeLog
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Smart Scene</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#smart-scene"><b>1. </b>Smart Scene</a></li><ul><li><span class="title-icon "></span><a href="#scene-condition"><b>1.1. </b>Scene Condition</a></li><li><span class="title-icon "></span><a href="#scene-action"><b>1.2. </b>Scene Action</a></li><li><span class="title-icon "></span><a href="#smart-scene-management"><b>1.3. </b>Smart Scene Management</a></li><ul><li><span class="title-icon "></span><a href="#obtain-scene-list"><b>1.3.1. </b>Obtain Scene List</a></li><li><span class="title-icon "></span><a href="#obtain-condition-list"><b>1.3.2. </b>Obtain Condition List</a></li><li><span class="title-icon "></span><a href="#obtain-action-device-list"><b>1.3.3. </b>Obtain Action Device List</a></li><li><span class="title-icon "></span><a href="#obtain-condition-device-list"><b>1.3.4. </b>Obtain Condition Device List</a></li><li><span class="title-icon "></span><a href="#obtain-dp-list-of-action-device"><b>1.3.5. </b>Obtain Dp List Of Action Device</a></li><li><span class="title-icon "></span><a href="#obtain-dp-list-of-condition-device"><b>1.3.6. </b>Obtain Dp List Of Condition Device</a></li><li><span class="title-icon "></span><a href="#obtain-city-list"><b>1.3.7. </b>Obtain City List</a></li><li><span class="title-icon "></span><a href="#obtain-the-city-information-according-to-the-altitude-and-longitude-of-city"><b>1.3.8. </b>Obtain The City Information According To The Altitude And Longitude Of City</a></li><li><span class="title-icon "></span><a href="#obtain-the-city-information-according-to-the-city-id"><b>1.3.9. </b>Obtain The City Information According To The City Id.</a></li><li><span class="title-icon "></span><a href="#sort-scene"><b>1.3.10. </b>Sort Scene</a></li><li><span class="title-icon "></span><a href="#obtain-scenes-supported-cover-list"><b>1.3.11. </b>Obtain Scene&apos;s Supported Cover List</a></li></ul><li><span class="title-icon "></span><a href="#scene-operation"><b>1.4. </b>Scene Operation</a></li><ul><li><span class="title-icon "></span><a href="#add-scene"><b>1.4.1. </b>Add Scene</a></li><li><span class="title-icon "></span><a href="#edit-scene"><b>1.4.2. </b>Edit Scene</a></li><li><span class="title-icon "></span><a href="#delete-scene"><b>1.4.3. </b>Delete Scene</a></li><li><span class="title-icon "></span><a href="#execute-scene"><b>1.4.4. </b>Execute Scene</a></li><li><span class="title-icon "></span><a href="#enable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled"><b>1.4.5. </b>Enable Scene (Scene With At Least One Condition Can Be Enabled Or Disabled)</a></li><li><span class="title-icon "></span><a href="#disable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled"><b>1.4.6. </b>Disable Scene (Scene With At Least One Condition Can Be Enabled Or Disabled)</a></li><li><span class="title-icon "></span><a href="#monitor-scene-information-changes"><b>1.4.7. </b>Monitor scene information changes</a></li></ul><li><span class="title-icon "></span><a href="#emample"><b>1.5. </b>Emample</a></li><ul><li><span class="title-icon "></span><a href="#scene-condition_1"><b>1.5.1. </b>Scene Condition</a></li><li><span class="title-icon "></span><a href="#scene-action_1"><b>1.5.2. </b>Scene Action</a></li><li><span class="title-icon "></span><a href="#tuyasmartscenedatafactory-tool-class-collection"><b>1.5.3. </b>TuyaSmartSceneDataFactory Tool Class Collection</a></li></ul></ul></ul></div><h1 id="smart-scene"><a name="smart-scene" class="anchor-navigation-ex-anchor" href="#smart-scene"><i class="fa fa-link" aria-hidden="true"></i></a>1. Smart Scene</h1>
<p>Smart divides into scene or automation actions. </p>
<p>Scene is a condition that users add actions and it is triggered manually; Automation action is a action set by users, and the set action is automatically executed when the condition is triggered.</p>
<p>The Tuya Cloud allows users to set meteorological or device conditions based on actual scenes in life, and if conditions are met, one or multiple devices will carry out corresponding tasks.</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartScene</td>
<td>Provides 4 operations, namely, adding, editing, removing and operating, for single scene, and the scene id is required for initiation. The scene id refers to the <code>sceneId</code> of the <code>TuyaSmartSceneModel</code>, and it can be obtained from the scene list</td>
</tr>
<tr>
<td>TuyaSmartSceneManager</td>
<td>Provides all data related to conditions, tasks, devices and city for scenes, as well as the method of obtaining scene list data.</td>
</tr>
<tr>
<td>TuyaSmartScenePreConditionFactory</td>
<td>A tool class that provides a quick way to create automation effective period condition.</td>
</tr>
<tr>
<td>TuyaSmartSceneConditionFactory</td>
<td>A tool class that provides a quick way to create scene conditions.</td>
</tr>
<tr>
<td>TuyaSmartSceneActionFactory</td>
<td>A tool class that provides a quick way to create scene actions.</td>
</tr>
<tr>
<td>TuyaSmartSceneConditionExprBuilder</td>
<td>A tool class that provides a quick way to create scene condition&apos;s expressions.</td>
</tr>
</tbody>
</table>
<p>Before using interfaces related to the smart scene, you have to understand the scene conditions and scene tasks first.</p>
<p><strong>In the following documents, manual scene and automated scene are simply referred to as scene.</strong></p>
<h2 id="scene-condition"><a name="scene-condition" class="anchor-navigation-ex-anchor" href="#scene-condition"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Scene Condition</h2>
<p>All scenes conditions are defined in the <code>TuyaSmartSceneConditionModel</code> class, and Tuya supports three types of conditions:</p>
<ul>
<li>Meteorological conditions including temperature, humidity, weather, PM2.5, air quality and sunrise and sunset. User can select city when he/she selects the meteorological conditions.</li>
<li>Device conditions: if you have preset a function status for a device, the task in the scene will be triggered when the device status is reached. To avoid conflicts in operation, the same device cannot be used for both conditions and task at the same time.</li>
<li>Timing conditions: the device will carry out preset task at the required time.</li>
</ul>
<h2 id="scene-action"><a name="scene-action" class="anchor-navigation-ex-anchor" href="#scene-action"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Scene Action</h2>
<p>In this case, one or multiple devices will run some operations or enable/disable an automation action (with scene conditions) when the preset meteorological or device conditions are met. All relevant functions are realized in the <code>TuyaSmartSceneActionModel</code> class.</p>
<p><strong>There are some examples at the end of this document, whice can help you about creating an object of <code>TuyaSmartSceneActionModel</code> or <code>TuyaSmartSceneConditionModel</code>.</strong></p>
<h2 id="smart-scene-management"><a name="smart-scene-management" class="anchor-navigation-ex-anchor" href="#smart-scene-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Smart Scene Management</h2>
<h3 id="obtain-scene-list"><a name="obtain-scene-list" class="anchor-navigation-ex-anchor" href="#obtain-scene-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Obtain Scene List</h3>
<p><strong>Declaration</strong></p>
<p>Get scene list. Scenes are returned with automations, and scene and automation are distinguished by whether the conditions field is an empty array.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getSceneListWithHomeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
                       success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Home Id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getSmartSceneList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getSceneListWithHomeId<span class="token punctuation">:</span>homeId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get scene list success %@:&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get scene list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getSmartSceneList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getSceneList</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get scene list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get scene list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-condition-list"><a name="obtain-condition-list" class="anchor-navigation-ex-anchor" href="#obtain-condition-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Obtain Condition List</h3>
<p><strong>Declaration</strong></p>
<p>Obtain condition list. The condition can be temperature, humidity, weather, PM2.5, sunrise and sunset. It shall be noted that the device can also be a condition. The temperature can be in the Celsius system and Fahrenheit, and data shall be uploaded based on needs.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getConditionListWithFahrenheit<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>fahrenheit
                               success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                               failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>fahrenheit</td>
<td>YES: Use Fahrenheit units, NO: Use Celsius units</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getConditionList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getConditionListWithFahrenheit<span class="token punctuation">:</span>YES success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get condition list success:%@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get condition list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getConditionList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getConditionList</span><span class="token punctuation">(</span>withFahrenheit<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get condition list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get condition list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-action-device-list"><a name="obtain-action-device-list" class="anchor-navigation-ex-anchor" href="#obtain-action-device-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.3. Obtain Action Device List</h3>
<p><strong>Declaration</strong></p>
<p>When adding tasks, the device list of task shall be obtained.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getActionDeviceListWithHomeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
                              success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                              failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Home Id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getActionDeviceList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getActionDeviceListWithHomeId<span class="token punctuation">:</span>homeId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get action device list success:%@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get action device list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getActionDeviceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getActionDeviceList</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get action device list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get action device list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-condition-device-list"><a name="obtain-condition-device-list" class="anchor-navigation-ex-anchor" href="#obtain-condition-device-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.4. Obtain Condition Device List</h3>
<p><strong>Declaration</strong></p>
<p>Except for meteorological conditions such as temperature, humidity and weather, etc., the device can also be a condition. The condition device list shall be obtained, and one device that is carrying out some tasks will be used as a condition.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getConditionDeviceListWithHomeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
                                 success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                                 failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Home Id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getConditionDeviceList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getConditionDeviceListWithHomeId<span class="token punctuation">:</span>homeId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get condition device list success:%@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get condition device list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getConditionDeviceList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getConditionDeviceList</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get condition device list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get condition device list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-dp-list-of-action-device"><a name="obtain-dp-list-of-action-device" class="anchor-navigation-ex-anchor" href="#obtain-dp-list-of-action-device"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.5. Obtain Dp List Of Action Device</h3>
<p><strong>Declaration</strong></p>
<p>When adding or editing scene actions, the user needs to obtain the device dp list based on the deviceId of devices to select a dp function point so as to assign the action to the device.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getActionDeviceDPListWithDevId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>devId
                               success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                               failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>Device Id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getActionDeviceDPList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getActionDeviceDPList<span class="token punctuation">:</span><span class="token string">@&quot;your_device_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get action device dp list success:%@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get action device dp list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getActionDeviceDPList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getActionDeviceDPList</span><span class="token punctuation">(</span>withDevId<span class="token punctuation">:</span> <span class="token string">&quot;your_device_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get action device dp list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get action device dp list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-dp-list-of-condition-device"><a name="obtain-dp-list-of-condition-device" class="anchor-navigation-ex-anchor" href="#obtain-dp-list-of-condition-device"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.6. Obtain Dp List Of Condition Device</h3>
<p><strong>Declaration</strong></p>
<p>When selecting scene conditions, the user needs to obtain the device dp list based on the deviceId to select a dp function point so that the operation of the dp function of a device can be used as the condition of the scene.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCondicationDeviceDPListWithDevId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>devId
                                    success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                                    failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>devId</td>
<td>Device Id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCondicationDeviceDPList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getCondicationDeviceDPList<span class="token punctuation">:</span><span class="token string">@&quot;your_device_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get condition device dp list success:%@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get condition device dp list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getCondicationDeviceDPList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getCondicationDeviceDPList</span><span class="token punctuation">(</span>withDevId<span class="token punctuation">:</span> <span class="token string">&quot;your_device_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get condition device dp list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get condition device dp list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-city-list"><a name="obtain-city-list" class="anchor-navigation-ex-anchor" href="#obtain-city-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.7. Obtain City List</h3>
<p><strong>Declaration</strong></p>
<p>When selecting meteorological conditions for scene, user can obtain the city list according to the country code. The user can select the city he is currently in. (Note: city list of some foreign countries may be incomplete temporarily. If you are not in China, it is recommended that you obtain the city information according to the altitude and longitude.)Use isoCountryCode&#xFF0C;eg:United States = &quot;US&quot;&#x3002;</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCityListWithCountryCode<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>countryCode
                           success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartCityModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                           failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>countryCode</td>
<td>Country code, use isoCountryCode, eg:United States = &quot;US&quot;</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCityList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getCityListWithCountryCode<span class="token punctuation">:</span><span class="token string">@&quot;your_country_code&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartCityModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get city list success:%@&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get city list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getCityList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getCityList</span><span class="token punctuation">(</span>withCountryCode<span class="token punctuation">:</span> <span class="token string">&quot;your_country_code&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get city list success: <span class="token interpolation"><span class="token delimiter variable">\(</span>list<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get city list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-altitude-and-longitude-of-city"><a name="obtain-the-city-information-according-to-the-altitude-and-longitude-of-city" class="anchor-navigation-ex-anchor" href="#obtain-the-city-information-according-to-the-altitude-and-longitude-of-city"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.8. Obtain The City Information According To The Altitude And Longitude Of City</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCityInfoWithLatitude<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>latitude
                      longitude<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>longitude
                        success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TuyaSmartCityModel <span class="token operator">*</span>model<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                        failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>latitude</td>
<td>Latitude</td>
</tr>
<tr>
<td>longitude</td>
<td>Longitude</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCityInfo <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getCityInfo<span class="token punctuation">:</span><span class="token string">@&quot;your_location_latitude&quot;</span> longitude<span class="token punctuation">:</span><span class="token string">@&quot;your_location_longitude&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>TuyaSmartCityModel <span class="token operator">*</span>city<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get city info success:%@&quot;</span><span class="token punctuation">,</span> city<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get city info failure:%@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getCityInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getCityInfo</span><span class="token punctuation">(</span>withLatitude<span class="token punctuation">:</span> <span class="token string">&quot;your_location_latitude&quot;</span><span class="token punctuation">,</span> longitude<span class="token punctuation">:</span> <span class="token string">&quot;your_location_longitude&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>city<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get city info success: <span class="token interpolation"><span class="token delimiter variable">\(</span>city<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get city info failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-city-id"><a name="obtain-the-city-information-according-to-the-city-id" class="anchor-navigation-ex-anchor" href="#obtain-the-city-information-according-to-the-city-id"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.9. Obtain The City Information According To The City Id.</h3>
<p><strong>Declaration</strong></p>
<p>Obtain the city information according to the city id. The city id can be attained from the city list.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getCityInfoWithCityId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>cityId
                      success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TuyaSmartCityModel <span class="token operator">*</span>model<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                      failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cityId</td>
<td>City Id</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> getCityInfo <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getCityInfoWithCityId<span class="token punctuation">:</span><span class="token string">@&quot;your_city_id&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>TuyaSmartCityModel <span class="token operator">*</span>city<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get city info success:%@&quot;</span><span class="token punctuation">,</span> city<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get city info failure:%@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getCityInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getCityInfo</span><span class="token punctuation">(</span>withCityId<span class="token punctuation">:</span> <span class="token string">&quot;your_city_id&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>city<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get city info success: <span class="token interpolation"><span class="token delimiter variable">\(</span>city<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get city info failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="sort-scene"><a name="sort-scene" class="anchor-navigation-ex-anchor" href="#sort-scene"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.10. Sort Scene</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sortSceneWithHomeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
                sceneIdList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>sceneIdList
                    success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                    failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeId</td>
<td>Home Id</td>
</tr>
<tr>
<td>sceneIdList</td>
<td>Sorted scene Id array</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> sortScene <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> sortSceneWithHomeId<span class="token punctuation">:</span>homeId sceneIdList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sort scene success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sort scene failure:%@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">sortScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">sortScene</span><span class="token punctuation">(</span>withHomeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> sceneIdList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;sceneId list&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;sort scene success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;sort scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-scenes-supported-cover-list"><a name="obtain-scenes-supported-cover-list" class="anchor-navigation-ex-anchor" href="#obtain-scenes-supported-cover-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.11. Obtain Scene&apos;s Supported Cover List</h3>
<p><strong>Declaration</strong></p>
<p>Obtain scene&apos;s supported cover url list.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getSmartSceneBackgroundCoverWithsuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessList<span class="token punctuation">)</span>success
                                        failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getDefaultSceneCover <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartSceneManager sharedInstance<span class="token punctuation">]</span> getSmartSceneBackgroundCoverWithsuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getDefaultSceneCover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartSceneManager</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getSmartSceneBackgroundCover</span><span class="token punctuation">(</span>withsuccess<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token keyword">in</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="scene-operation"><a name="scene-operation" class="anchor-navigation-ex-anchor" href="#scene-operation"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Scene Operation</h2>
<p>The <code>TuyaSmartScene</code> class provides 4 operations, namely, adding, editing, removing and operating, for single scene, and the scene id is required for initiation. The scene id refers to the <code>sceneId</code> of the <code>TuyaSmartSceneModel</code>, and it can be obtained from the scene list.</p>
<h3 id="add-scene"><a name="add-scene" class="anchor-navigation-ex-anchor" href="#add-scene"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. Add Scene</h3>
<p><strong>Declaration</strong></p>
<p>User needs to upload the name of scene, Id of home, url of background pictures, showing the picture in the home page or not, task list (one at least) and determine carrying out task(s) when one or multiple conditions are met when he/she add a scene. The user can just set the name, tasks, background picture, but he/she has to set conditions manually.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addNewSceneWithName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name
                     homeId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId
                 background<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>background
              showFirstPage<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>showFirstPage
           preConditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartScenePreConditionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>preConditionList
              conditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneConditionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>conditionList
                 actionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneActionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>actionList
                  matchType<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartConditionMatchType<span class="token punctuation">)</span>matchType
                    success<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TuyaSmartSceneModel <span class="token operator">*</span>sceneModel<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                    failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Scene name</td>
</tr>
<tr>
<td>homeId</td>
<td>Home Id</td>
</tr>
<tr>
<td>background</td>
<td>Background image url, can only use the background image provided in the &quot;Obtain scene&apos;s supported cover list&quot; interface</td>
</tr>
<tr>
<td>showFirstPage</td>
<td>Whether to display on the homepage</td>
</tr>
<tr>
<td>preConditionList</td>
<td>Effective period, passed in as an array of preconditions</td>
</tr>
<tr>
<td>conditionList</td>
<td>Condition list</td>
</tr>
<tr>
<td>actionList</td>
<td>Action list</td>
</tr>
<tr>
<td>matchType</td>
<td>Condition match type, &quot;AND&quot; or &quot;OR&quot;</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addSmartScene <span class="token punctuation">{</span>

    <span class="token punctuation">[</span>TuyaSmartScene addNewSceneWithName<span class="token punctuation">:</span><span class="token string">@&quot;your_scene_name&quot;</span> homeId<span class="token punctuation">:</span>homeId background<span class="token punctuation">:</span><span class="token string">@&quot;background_url&quot;</span> showFirstPage<span class="token punctuation">:</span>YES conditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneConditionModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> actionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneActionModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> matchType<span class="token punctuation">:</span>TuyaSmartConditionMatchAny success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>TuyaSmartSceneModel <span class="token operator">*</span>sceneModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add scene success %@:&quot;</span><span class="token punctuation">,</span> sceneModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add scene failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addSmartScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">TuyaSmartScene</span><span class="token punctuation">.</span><span class="token function">addNewScene</span><span class="token punctuation">(</span>withName<span class="token punctuation">:</span> <span class="token string">&quot;your_scene_name&quot;</span><span class="token punctuation">,</span> homeId<span class="token punctuation">:</span> homeId<span class="token punctuation">,</span> background<span class="token punctuation">:</span> <span class="token string">&quot;background_url&quot;</span><span class="token punctuation">,</span> showFirstPage<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> conditionList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">TuyaSmartSceneConditionModel</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span> actionList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">TuyaSmartSceneActionModel</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span> matchType<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartConditionMatchAny</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>sceneModel<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add scene success :<span class="token interpolation"><span class="token delimiter variable">\(</span>sceneModel<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="edit-scene"><a name="edit-scene" class="anchor-navigation-ex-anchor" href="#edit-scene"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. Edit Scene</h3>
<p><strong>Declaration</strong></p>
<p>User needs to edit the name of scene, background pictures, condition list, task list, and determine carrying out task(s) when one or multiple conditions are met.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>modifySceneWithName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name
                 background<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>background
              showFirstPage<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>showFirstPage
           preConditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartScenePreConditionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>preConditionList
              conditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneConditionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>conditionList
                 actionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneActionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>actionList
                  matchType<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartConditionMatchType<span class="token punctuation">)</span>matchType
                    success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                    failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Scene name</td>
</tr>
<tr>
<td>background</td>
<td>Background image url, can only use the background image provided in the &quot;Obtain scene&apos;s supported cover list&quot; interface</td>
</tr>
<tr>
<td>showFirstPage</td>
<td>Whether to display on the homepage</td>
</tr>
<tr>
<td>preConditionList</td>
<td>Effective period, passed in as an array of preconditions</td>
</tr>
<tr>
<td>conditionList</td>
<td>Condition list</td>
</tr>
<tr>
<td>actionList</td>
<td>Action list</td>
</tr>
<tr>
<td>matchType</td>
<td>Condition match type, &quot;AND&quot; or &quot;OR&quot;</td>
</tr>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>modifySmartScene <span class="token punctuation">{</span>
<span class="token comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>smartScene modifySceneWithName<span class="token punctuation">:</span>name background<span class="token punctuation">:</span><span class="token string">@&quot;background_url&quot;</span> showFirstPage<span class="token punctuation">:</span>YES preConditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartScenePreConditionModel<span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> conditionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneConditionModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> actionList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartSceneActionModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> matchType<span class="token punctuation">:</span>TuyaSmartConditionMatchAny success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;modify scene success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;modify scene failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">modifySmartScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    smartScene<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">modifyScene</span><span class="token punctuation">(</span>withName<span class="token punctuation">:</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> background<span class="token punctuation">:</span> <span class="token string">&quot;background_url&quot;</span><span class="token punctuation">,</span> showFirstPage<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> preConditionList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">TuyaSmartScenePreConditionModel</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span>conditionList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">TuyaSmartSceneConditionModel</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span> actionList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">TuyaSmartSceneActionModel</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span> matchType<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartConditionMatchAny</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;modify scene success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;modify scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="delete-scene"><a name="delete-scene" class="anchor-navigation-ex-anchor" href="#delete-scene"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.3. Delete Scene</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deleteSceneWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deleteSmartScene <span class="token punctuation">{</span>
<span class="token comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>smartScene deleteSceneWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete scene success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;delete scene failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">deleteSmartScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    smartScene<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete scene success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;delete scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="execute-scene"><a name="execute-scene" class="anchor-navigation-ex-anchor" href="#execute-scene"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.4. Execute Scene</h3>
<p><strong>Declaration</strong></p>
<p>Note: This method only sends instructions to the cloud to execute the scene. If you want to monitor the dp point change of the device, you can see <a href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_doc/en/resource/Device.html#delegate-of-device" target="_blank">Device Management -&gt; Delegate of Device</a>.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>executeSceneWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                        failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>executeSmartScene <span class="token punctuation">{</span>
<span class="token comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>smartScene executeSceneWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
           <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;execute scene success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;execute scene failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">executeSmartScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    smartScene<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;execute scene success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;execute scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="enable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled"><a name="enable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled" class="anchor-navigation-ex-anchor" href="#enable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.5. Enable Scene (Scene With At Least One Condition Can Be Enabled Or Disabled)</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>enableSceneWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>enableSmartScene <span class="token punctuation">{</span>
<span class="token comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>smartScene enableSceneWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
           <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;enable scene success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;enable scene failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">enableSmartScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    smartScene<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">enable</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;enable scene success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;enable scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="disable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled"><a name="disable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled" class="anchor-navigation-ex-anchor" href="#disable-scene-scene-with-at-least-one-condition-can-be-enabled-or-disabled"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.6. Disable Scene (Scene With At Least One Condition Can Be Enabled Or Disabled)</h3>
<p><strong>Declaration</strong></p>
<p>Disable an automated scene, the scene will not be executed automatically.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>disableSceneWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                        failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success block</td>
</tr>
<tr>
<td>failure</td>
<td>Failure block</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>disableSmartScene <span class="token punctuation">{</span>
<span class="token comment">//    self.smartScene = [TuyaSmartScene sceneWithSceneId:@&quot;your_scene_id&quot;];</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>smartScene disableSceneWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
           <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;disable scene success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;disable scene failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">disableSmartScene</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    smartScene<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">disableScene</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;disable scene success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;disable scene failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="monitor-scene-information-changes"><a name="monitor-scene-information-changes" class="anchor-navigation-ex-anchor" href="#monitor-scene-information-changes"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.7. Monitor scene information changes</h3>
<p><strong>Declaration</strong></p>
<p>The delegate method for monitoring of scene addition, editing, deletion, execution, opening and closing operations.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sceneManager<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartSceneManager <span class="token operator">*</span><span class="token punctuation">)</span>manager state<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>state sceneId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>sceneId<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartSceneManager</td>
<td>Scene data management class, you can use this class to get scene list data</td>
</tr>
<tr>
<td>state</td>
<td>state string, for example: update&#x3001;disable</td>
</tr>
<tr>
<td>sceneId</td>
<td>scene id</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sceneManager<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartSceneManager <span class="token operator">*</span><span class="token punctuation">)</span>manager state<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>state sceneId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>sceneId <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>state isEqualToString<span class="token punctuation">:</span><span class="token string">@&quot;update&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update scene list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">sceneManager</span><span class="token punctuation">(</span><span class="token number">_</span> manager<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartSceneManager</span><span class="token operator">!</span><span class="token punctuation">,</span> state<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">!</span><span class="token punctuation">,</span> sceneId<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> state <span class="token operator">==</span> <span class="token string">&quot;update&quot;</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;reload scene list&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="emample"><a name="emample" class="anchor-navigation-ex-anchor" href="#emample"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Emample</h2>
<p>The SDK has added <code>TuyaSmartSceneDataFactory</code> as a tool class collection in 3.14.0 and above, which is used to conveniently create the conditions, actions, and effective time period conditions of the scene.</p>
<p>If you are using a version earlier than 3.14.0, refer to the following example to create conditions and actions.
If you are using version 3.14.0 or above, it is recommended to use the tool classes provided by <code>TuyaSmartSceneDataFactory</code> to create conditions and actions.</p>
<h3 id="scene-condition_1"><a name="scene-condition_1" class="anchor-navigation-ex-anchor" href="#scene-condition_1"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.1. Scene Condition</h3>
<h4 id="create-an-object-for-tuyasmartsceneconditionmodel"><a name="create-an-object-for-tuyasmartsceneconditionmodel" class="anchor-navigation-ex-anchor" href="#create-an-object-for-tuyasmartsceneconditionmodel"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-an-object-for-tuyasmartsceneconditionmodel" class="plugin-anchor" href="#create-an-object-for-tuyasmartsceneconditionmodel"><i class="fa fa-link" aria-hidden="true"></i></a>Create An Object For <code>TuyaSmartSceneConditionModel</code></h4>
<p>From the <code>Obtain condition list</code> API, you can obtain the condition list, which is compose of TuyaSmartSceneDPModel object. With the APIs obout city, you can obtain cityId value. Now it&apos;s time to create an object of TuyaSmartSceneConditionModel, cause now we know where and what&#x2018;s the conditon is to execute the scene.</p>
<p>If you save the values about conditions in an object of TuyaSmartSceneDPModel(you can save it anywhere you like), you can use a initialize method like below to cheate a TuyaSmartSceneConditionModel object. You can use category to add a new method to TuyaSmartSceneConditionModel.</p>
<pre class="language-"><code>//new initialize method
- (instancetype)initWithSmartSceneDPModel:(TuyaSmartSceneDPModel *)dpModel {

    if (self = [super init]) {
        self.entityType = dpModel.entityType;
        self.iconUrl = dpModel.iconUrl;
        if (dpModel.entityType == 3) {
            //Meteorological conditions
            self.entityId = dpModel.cityId;
            self.entityName = dpModel.cityName;
            self.entitySubIds = dpModel.entitySubId;
            self.cityName = dpModel.cityName;
            self.cityLatitude = dpModel.cityLatitude;
            self.cityLongitude = dpModel.cityLongitude;
        } else if (dpModel.entityType == 7) {
            //Timer condition
            NSString *value = dpModel.valueRangeJson[dpModel.selectedRow][0];
            self.extraInfo = @{@&quot;delayTime&quot; : value};
        } else {
            //Device conditon
            self.entityId = dpModel.devId;
            TuyaSmartDevice *device = [TuyaSmartDevice deviceWithDeviceId:dpModel.devId];
            self.entityName = device.deviceModel.name;
            self.entitySubIds = [NSString stringWithFormat:@&quot;%ld&quot;, (long)dpModel.dpId];
        }
        self.expr = dpModel.expr;
    }
    return self;
}
</code></pre><h4 id="create-expr-property"><a name="create-expr-property" class="anchor-navigation-ex-anchor" href="#create-expr-property"><i class="fa fa-link" aria-hidden="true"></i></a><a name="create-expr-property" class="plugin-anchor" href="#create-expr-property"><i class="fa fa-link" aria-hidden="true"></i></a>Create Expr Property</h4>
<p>The <code>expr</code> property in TuyaSmartSceneConditionModel is an expression of condition, which is a NSArray object(important, the outermost object is a NSArray object), like @[@&quot;$temp&quot;,@&quot;&lt;&quot;,@15].</p>
<p>Example for <code>expr</code>:</p>
<p>Meteorological conditions:</p>
<ul>
<li>Temperature @[@[@&quot;$temp&quot;,@&quot;&lt;&quot;,@15]]</li>
<li>Humidity @[@[@&quot;$humidity&quot;,@&quot;==&quot;,@&quot;comfort&quot;]]</li>
<li>Weather @[@[@&quot;$condition&quot;,@&quot;==&quot;,@&quot;snowy&quot;]]</li>
<li>PM2.5 @[@[@&quot;$pm25&quot;,@&quot;==&quot;,@&quot;fine&quot;]]</li>
<li>Air quality @[@[@&quot;$aqi&quot;,@&quot;==&quot;,@&quot;fine&quot;]]</li>
<li>Sunset/Sunrise @[@[@&quot;$sunsetrise&quot;,@&quot;==&quot;,@&quot;sunrise&quot;]]</li>
</ul>
<p>Timer condition:</p>
<p>Timer conditon&apos;s <code>expr</code> use a NSDictionry to define the timer, for emample, {timeZoneId = &quot;Asia/Shanghai&quot;,loops = &quot;0000000&quot;,time = &quot;08:00&quot;,date = &quot;20180308&quot;}. The loops represent date from Sunday to Saturday, 1 for validate and 0 for invalidate.</p>
<p>Device condition:</p>
<p>Device conditon use a NSArray objcet to define the conditon value, for example, @[@[@&quot;$dp1&quot;,@&quot;==&quot;,@YES]], which can represent a condition like &quot;when a device is open&quot;. The <code>dp1</code> is a dpId property from <code>TuyaSmartSceneDPModel</code> object.</p>
<h3 id="scene-action_1"><a name="scene-action_1" class="anchor-navigation-ex-anchor" href="#scene-action_1"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.2. Scene Action</h3>
<p>Scene action is a object of <code>TuyaSmartSceneActionModel</code>, the <code>actionExecutor</code> property is the type of the scene action. Action type includs:</p>
<ul>
<li>dpIssue     device action</li>
<li>deviceGroupDpIssue     device group action</li>
<li>ruleTrigger     trigger a smart scene</li>
<li>ruleEnable         enable an auto</li>
<li>ruleDisable     disable an auto</li>
<li>delay delay     action</li>
</ul>
<p>Create a new object of <code>TuyaSmartSceneActionModel</code>,then set the values of properties. There are 3 important properties:entityId&#x3001;actionExecutor&#x3001;executorProperty, which describe which entity to act, which action type to do, and exact action execute property.</p>
<ol>
<li><p>Device&#x3002;entityId property is the device devId&#xFF0C;actionExecutor is <code>dpIssue</code>&#xFF0C;executorProperty is a dictionary&#xFF0C;like {&quot;1&quot;:YES}, &quot;1&quot; representing the dp of a device.</p>
</li>
<li><p>Group. entityId property is groupId, actionExecutor is <code>deviceGroupDpIssue</code>, executorProperty is the same as Device. </p>
</li>
<li>Trigger Scene&#x3002;entityId is sceneId&#xFF0C;actionExecutor is <code>ruleTrigger</code>&#xFF0C;executorProperty is nil&#x3002;</li>
<li>Enable an auto&#x3002;entityId a auto&apos;s sceneId&#xFF0C;actionExecutor is <code>ruleEnable</code>&#xFF0C;executorProperty is nil&#x3002;</li>
<li>Disable an auto&#x3002;entityId is an auto&apos;s sceneId&#xFF0C;actionExecutor is <code>ruleDisable</code>&#xFF0C;executorProperty is nil&#x3002;</li>
<li>Delay action&#x3002;entityId is <code>delay</code>&#xFF0C;actionExecutor is <code>delay</code>&#xFF0C;executorProperty is the time to delay, which is defined with a diction, for example <code>{@&quot;minutes&quot;:@&quot;1&quot;,@&quot;seconds&quot;:@&quot;30&quot;}</code>, representing one minutes and 30 seconds.It currently supports up to 5 hours, or 300 minutes.</li>
</ol>
<h3 id="tuyasmartscenedatafactory-tool-class-collection"><a name="tuyasmartscenedatafactory-tool-class-collection" class="anchor-navigation-ex-anchor" href="#tuyasmartscenedatafactory-tool-class-collection"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.3. TuyaSmartSceneDataFactory Tool Class Collection</h3>
<p>TuyaSmartSceneDataFactory contains the following creation tool classes:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartScenePreConditionFactory</td>
<td>Pre-conditions for creating automation scenarios, such as the effective time period.</td>
</tr>
</tbody>
</table>
<p>TuyaSmartSceneConditionFactory| Conditions for creating automated scenarios, such as weather conditions, device conditions. |
|TuyaSmartSceneActionFactory| Used to create scene actions, such as device actions. |</p>
<p>And two auxiliary classes:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartSceneExprModel</td>
<td>Used to store expr expressions in scene conditions.</td>
</tr>
<tr>
<td>TuyaSmartSceneConditionExprBuilder</td>
<td>A tool class for generating conditional expressions in automation scenes.</td>
</tr>
</tbody>
</table>
<p>For the creation of effective time periods, conditions, and actions, all supported types can be used by referring to the comments in the SDK header file. </p>
<p>Note: Because of the need to adapt to multiple languages, <code>exprDisplay</code> and <code>actionDisplayNew</code> are not generated in conditions and actions to display the details of conditions and actions. Developers need to manually generate them according to the expression <code>expr</code> in the conditions and the execution parameter <code>executorProperty</code> in the action.</p>
<h4 id="example"><a name="example" class="anchor-navigation-ex-anchor" href="#example"><i class="fa fa-link" aria-hidden="true"></i></a><a name="example" class="plugin-anchor" href="#example"><i class="fa fa-link" aria-hidden="true"></i></a>Example</h4>
<p>Taking the creation of an device condition as an example, the usage sequence is as follows:</p>
<ol>
<li>Use <code>TuyaSmartSceneConditionExprBuilder</code> to create a<code>TuyaSmartSceneExprModel</code> object, and generate the expression <code>expr</code> required to create conditions.</li>
<li>Using the API in <code>TuyaSmartSceneConditionFactory</code>, pass in the<code>TuyaSmartSceneExprModel</code> object generated in the first step and other required parameters to generate a condition object.</li>
</ol>
<p><strong>Declaration</strong></p>
<p>Create an expr model.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">+</span> <span class="token punctuation">(</span>TuyaSmartSceneExprModel <span class="token operator">*</span><span class="token punctuation">)</span>createBoolExprWithType<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>type
                                             isTrue<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isTrue
                                           exprType<span class="token punctuation">:</span><span class="token punctuation">(</span>ExprType<span class="token punctuation">)</span>exprType<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Weather type or device dpId</td>
</tr>
<tr>
<td>isTrue</td>
<td>Boolean parameter</td>
</tr>
<tr>
<td>exprType</td>
<td>Differentiate whether a weather or device type was created</td>
</tr>
</tbody>
</table>
<p><strong>Declaration</strong></p>
<p>Create a device condition.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">+</span> <span class="token punctuation">(</span>TuyaSmartSceneConditionModel <span class="token operator">*</span><span class="token punctuation">)</span>createDeviceConditionWithDevice<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>device
                                                          dpModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartSceneDPModel <span class="token operator">*</span><span class="token punctuation">)</span>dpModel
                                                        exprModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartSceneExprModel <span class="token operator">*</span><span class="token punctuation">)</span>exprModel<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>device</td>
<td>Device model</td>
</tr>
<tr>
<td>dpModel</td>
<td>Dp model</td>
</tr>
<tr>
<td>exprModel</td>
<td>Model object created with TuyaSmartSceneConditionExprBuilder.</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<pre class="language-"><code class="lang-objective-c">TuyaSmartSceneExprModel <span class="token operator">*</span>exprModel <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartSceneConditionExprBuilder createBoolExprWithType<span class="token punctuation">:</span>dpModel<span class="token punctuation">.</span>entitySubId
                                                                            isTrue<span class="token punctuation">:</span>YES
                                                                          exprType<span class="token punctuation">:</span>exprType<span class="token punctuation">]</span><span class="token punctuation">;</span>
TuyaSmartSceneConditionModel <span class="token operator">*</span>conditionModel <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartSceneConditionFactory createDeviceConditionWithDevice<span class="token punctuation">:</span>deviceModel
                                                                                     dpModel<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>model
                                                                                   exprModel<span class="token punctuation">:</span>exprModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>To generate preconditions and actions, use the APIs provided in <code>TuyaSmartScenePreConditionFactory</code> and<code>TuyaSmartSceneActionFactory</code>.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Group.html#group-data-acquisition" class="navigation navigation-prev " aria-label="Previous page: Group data acquisition">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="SmartScene.html#scene-condition" class="navigation navigation-next " aria-label="Next page: Scene Condition">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Smart Scene","level":"1.14","depth":1,"next":{"title":"Scene Condition","level":"1.14.1","depth":2,"anchor":"#scene-condition","path":"resource/SmartScene.md","ref":"./resource/SmartScene.md#scene-condition","articles":[]},"previous":{"title":"Group data acquisition","level":"1.13.3.6","depth":3,"anchor":"#group-data-acquisition","path":"resource/Group.md","ref":"./resource/Group.md#group-data-acquisition","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","anchor-navigation-ex","ga","expandable-chapters-small","pageview-count","language-picker","hide-element","flexible-alerts"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_ios_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":{"zh-hans":"æ³¨æ","en":"Attention"}},"note":{"className":"info","icon":"fa fa-info-circle","label":{"zh-hans":"æç¤º","en":"Note"}},"style":"flat","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":{"zh-hans":"Tips","en":"Tip"}},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":{"zh-hans":"è­¦å","en":"Warning"}}},"ga":{"configuration":"auto","token":"UA-165828612-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/SmartScene.md","mtime":"2021-01-09T03:40:24.981Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-01-09T03:41:24.778Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

