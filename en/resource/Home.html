
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Home Relationship Management Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-flexible-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Home.html" />
    
    
    <link rel="prev" href="HomeAbout.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Features Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Demo.html">
            
                <a href="Demo.html">
            
                    
                    Demo App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="iOSAdaptation.html">
            
                <a href="iOSAdaptation.html">
            
                    
                    iOS Adaptation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="User.html">
            
                <a href="User.html#user-management">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="User.html">
            
                <a href="User.html#use-mobile-phone-for-login">
            
                    
                    Use Mobile Phone for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="User.html">
            
                <a href="User.html#use-email-for-login">
            
                    
                    Use Email for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="User.html">
            
                <a href="User.html#use-uid-for-login">
            
                    
                    Use UID for Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="User.html">
            
                <a href="User.html#third-party-login">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="User.html">
            
                <a href="User.html#login-by-auth2">
            
                    
                    Login by Auth2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="User.html">
            
                <a href="User.html#anonymous-registration">
            
                    
                    Anonymous registration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="User.html">
            
                <a href="User.html#modify-user-info">
            
                    
                    Modify User Info
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="User.html">
            
                <a href="User.html#logout-disable-account">
            
                    
                    Logout, Disable Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="User.html">
            
                <a href="User.html#user-data-model">
            
                    
                    User Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="User.html">
            
                <a href="User.html#handling-of-expired-session">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="HomeAbout.html">
            
                <a href="HomeAbout.html">
            
                    
                    Home Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Home.html">
            
                <a href="Home.html#home-relationship-management">
            
                    
                    Home Relationship Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Home.html">
            
                <a href="Home.html#home-information-management">
            
                    
                    Operation of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Home.html">
            
                <a href="Home.html#member-management">
            
                    
                    Home Member Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Home.html">
            
                <a href="Home.html#room-information-management">
            
                    
                    Room Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="Home.html">
            
                <a href="Home.html#home-weather">
            
                    
                    Home's Weather
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Activator.html">
            
                <a href="Activator.html#device-configuration">
            
                    
                    Device Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Activator.html">
            
                <a href="Activator.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Activator.html">
            
                <a href="Activator.html#instructions">
            
                    
                    Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Activator.html">
            
                <a href="Activator.html#Implementation">
            
                    
                    Implementation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.3.1" data-path="Activator.html">
            
                <a href="Activator.html#quick-connection-mode">
            
                    
                    Quick Connection Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.2" data-path="Activator.html">
            
                <a href="Activator.html#hotspot-mode">
            
                    
                    HotSpot Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.3" data-path="Activator.html">
            
                <a href="Activator.html#camera-scan-code-network-configuration">
            
                    
                    Camera Scan Code Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.4" data-path="Activator.html">
            
                <a href="Activator.html#wired-network-configuration">
            
                    
                    Wired Network Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.5" data-path="Activator.html">
            
                <a href="Activator.html#sub-device-configuration">
            
                    
                    Sub-Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3.6" data-path="Activator.html">
            
                <a href="Activator.html#bluetooth-configuration">
            
                    
                    Bluetooth Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Device.html">
            
                <a href="Device.html#device-management">
            
                    
                    Device Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Device.html">
            
                <a href="Device.html#initialize-device">
            
                    
                    Initialize Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Device.html">
            
                <a href="Device.html#delegate-of-device">
            
                    
                    Delegate of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="Device.html">
            
                <a href="Device.html#functions-of-device">
            
                    
                    Functions of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="Device.html">
            
                <a href="Device.html#querying-device-information">
            
                    
                    Querying Device Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="Device.html">
            
                <a href="Device.html#modify-the-device-name">
            
                    
                    Modify the Device Name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="Device.html">
            
                <a href="Device.html#restore-factory-settings">
            
                    
                    Restore Factory Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="Device.html">
            
                <a href="Device.html#obtain-wi-fi-signal-strength">
            
                    
                    Obtain Wi-Fi Signal Strength
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="Device.html">
            
                <a href="Device.html#obtain-the-sub-device-list-of-a-gateway">
            
                    
                    Obtain the Sub-Device List of a Gateway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="Device.html">
            
                <a href="Device.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="Device.html">
            
                <a href="Device.html#fetch-the-log-of-dp-report">
            
                    
                    Fetch the Log of DP Report
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="MultiControl.html">
            
                <a href="MultiControl.html#device-multi-control">
            
                    
                    Device Multi-Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="MultiControl.html">
            
                <a href="MultiControl.html#overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="MultiControl.html">
            
                <a href="MultiControl.html#bussiness-flowchart">
            
                    
                    Bussiness Flowchart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="MultiControl.html">
            
                <a href="MultiControl.html#get-device-dp-information">
            
                    
                    Get Device Dp Information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="MultiControl.html">
            
                <a href="MultiControl.html#query-related-information-of-a-dp">
            
                    
                    Query Related Information of a Dp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="MultiControl.html">
            
                <a href="MultiControl.html#add-multi-control-group">
            
                    
                    Add Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="MultiControl.html">
            
                <a href="MultiControl.html#update-multi-control-group">
            
                    
                    Update Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="MultiControl.html">
            
                <a href="MultiControl.html#enable-or-disable-multi-control-group">
            
                    
                    Enable or Disable Multi-control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="MultiControl.html">
            
                <a href="MultiControl.html#query-devices-that-support-multi-control">
            
                    
                    Query Devices that Support Multi-control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="MultiControl.html">
            
                <a href="MultiControl.html#get-affiliate-device-details">
            
                    
                    Get Affiliate Device Details
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Share.html">
            
                <a href="Share.html#shared-devices">
            
                    
                    Share Devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="Share.html">
            
                <a href="Share.html#add-device-share">
            
                    
                    Add Device Share
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="Share.html">
            
                <a href="Share.html#getting-shared-relationships">
            
                    
                    Getting Shared Relationships
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="Share.html">
            
                <a href="Share.html#remove-sharing">
            
                    
                    Remove Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="Share.html">
            
                <a href="Share.html#modify-note-name">
            
                    
                    Modify Note Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer Task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="Group.html">
            
                <a href="Group.html#group-management">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="Group.html">
            
                <a href="Group.html#functional-overview">
            
                    
                    Functional Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="Group.html">
            
                <a href="Group.html#create-group">
            
                    
                    Create Group
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.2.1" data-path="Group.html">
            
                <a href="Group.html#create-wi-fi-group">
            
                    
                    Create Wi-Fi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2.2" data-path="Group.html">
            
                <a href="Group.html#create-zigbee-group">
            
                    
                    Create ZigBee Group
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="Group.html">
            
                <a href="Group.html#group-operation">
            
                    
                    Group Operation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.3.1" data-path="Group.html">
            
                <a href="Group.html#instantiation">
            
                    
                    Instantiation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.2" data-path="Group.html">
            
                <a href="Group.html#modifying-group-name">
            
                    
                    Modifying group name
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.3" data-path="Group.html">
            
                <a href="Group.html#dismiss-group">
            
                    
                    Dismiss Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.4" data-path="Group.html">
            
                <a href="Group.html#sending-group-control-command">
            
                    
                    Sending group control command
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.5" data-path="Group.html">
            
                <a href="Group.html#group-callback-event">
            
                    
                    Group callback event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3.6" data-path="Group.html">
            
                <a href="Group.html#group-data-acquisition">
            
                    
                    Group data acquisition
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene">
            
                    
                    Smart Scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-condition">
            
                    
                    Scene Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-action">
            
                    
                    Scene Action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="SmartScene.html">
            
                <a href="SmartScene.html#smart-scene-management">
            
                    
                    Smart Scene Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="SmartScene.html">
            
                <a href="SmartScene.html#scene-operation">
            
                    
                    Scene Operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Message.html">
            
                <a href="Message.html#message-center">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Message.html">
            
                <a href="Message.html#message">
            
                    
                    Message
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="Message.html">
            
                <a href="Message.html#push-notification">
            
                    
                    Push Notification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Feedback.html">
            
                <a href="Feedback.html#feedback">
            
                    
                    Feedback
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-talk-list">
            
                    
                    Obtain Feedback Talk List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-list">
            
                    
                    Obtain Feedback List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="Feedback.html">
            
                <a href="Feedback.html#obtain-feedback-type-list">
            
                    
                    Obtain Feedback Type List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="Feedback.html">
            
                <a href="Feedback.html#add-feedback">
            
                    
                    Add Feedback
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="BLE.html">
            
                <a href="BLE.html">
            
                    
                    TUYA BLE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="BLE.html">
            
                <a href="BLE.html#bluetooth-low-energy">
            
                    
                    Bluetooth Low Energy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1.1" data-path="BLE.html">
            
                <a href="BLE.html#preparatory-work">
            
                    
                    Preparatory Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.2" data-path="BLE.html">
            
                <a href="BLE.html#scanning-device">
            
                    
                    Scanning Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.3" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-activation">
            
                    
                    BLE Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.4" data-path="BLE.html">
            
                <a href="BLE.html#dual-mode-device-activation">
            
                    
                    Dual-mode Device Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.5" data-path="BLE.html">
            
                <a href="BLE.html#ble-device-function">
            
                    
                    BLE Device Function
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.6" data-path="BLE.html">
            
                <a href="BLE.html#ble-ota">
            
                    
                    BLE OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.1.7" data-path="BLE.html">
            
                <a href="BLE.html#error-code">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#bluetooth-meshsig">
            
                    
                    Bluetooth Mesh(SIG)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.2.1" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.2" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.3" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.4" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.5" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.6" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.7" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2.8" data-path="SIGMesh.html">
            
                <a href="SIGMesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="Mesh.html">
            
                <a href="Mesh.html#bluetooth-meshtuya">
            
                    
                    Bluetooth Mesh(TUYA)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="Mesh.html">
            
                <a href="Mesh.html#prepare">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="Mesh.html">
            
                <a href="Mesh.html#basic-notion">
            
                    
                    Basic Notion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="Mesh.html">
            
                <a href="Mesh.html#management">
            
                    
                    Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.4" data-path="Mesh.html">
            
                <a href="Mesh.html#activation">
            
                    
                    Activation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.5" data-path="Mesh.html">
            
                <a href="Mesh.html#device">
            
                    
                    Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.6" data-path="Mesh.html">
            
                <a href="Mesh.html#group">
            
                    
                    Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.7" data-path="Mesh.html">
            
                <a href="Mesh.html#control">
            
                    
                    Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.8" data-path="Mesh.html">
            
                <a href="Mesh.html#firmware-upgrade">
            
                    
                    Firmware Upgrade
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="ExtensionAbout.html">
            
                <a href="ExtensionAbout.html">
            
                    
                    Extension SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="Camera.html">
            
                <a href="Camera.html">
            
                    
                    IPC SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.1" data-path="ipc/rapid_integration.html">
            
                <a href="ipc/rapid_integration.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.2" data-path="ipc/architecture.html">
            
                <a href="ipc/architecture.html">
            
                    
                    SDK Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.3" data-path="ipc/camera_device.html">
            
                <a href="ipc/camera_device.html">
            
                    
                    Camera Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.4" data-path="ipc/activitor.html">
            
                <a href="ipc/activitor.html">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5" data-path="ipc/live.html">
            
                <a href="ipc/live.html">
            
                    
                    Camera Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.5.1" data-path="ipc/live.html">
            
                <a href="ipc/live.html#live-video">
            
                    
                    Live Video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.2" data-path="ipc/playback.html">
            
                <a href="ipc/playback.html">
            
                    
                    Playback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.5.3" data-path="ipc/av_function.html">
            
                <a href="ipc/av_function.html">
            
                    
                    AV Functions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.6" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html">
            
                    
                    Cloud Storage
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.6.1" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#flow-chart">
            
                    
                    Flow Chart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.2" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#cloud-service">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.6.3" data-path="ipc/cloud_video.html">
            
                <a href="ipc/cloud_video.html#cloud-video">
            
                    
                    Cloud Video
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.7" data-path="ipc/device_points.html">
            
                <a href="ipc/device_points.html">
            
                    
                    Extension Features
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.7.1" data-path="ipc/device_points.html">
            
                <a href="ipc/device_points.html#data-point-id">
            
                    
                    Data Point Id
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.2" data-path="ipc/lowpower.html">
            
                <a href="ipc/lowpower.html">
            
                    
                    Doorbell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.3" data-path="ipc/sd_card.html">
            
                <a href="ipc/sd_card.html">
            
                    
                    Memory Card
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.7.4" data-path="ipc/ptz.html">
            
                <a href="ipc/ptz.html">
            
                    
                    PTZ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.8" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html">
            
                    
                    Detection Alarm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1.8.1" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html#message-list">
            
                    
                    Message List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.8.2" data-path="ipc/detect.html">
            
                <a href="ipc/detect.html#video-message">
            
                    
                    Video Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.1.9" data-path="ipc/encryptImage.html">
            
                <a href="ipc/encryptImage.html">
            
                    
                    Encrypted Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.10" data-path="ipc/timeline.html">
            
                <a href="ipc/timeline.html">
            
                    
                    Timeline View
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.11" data-path="ipc/errors.html">
            
                <a href="ipc/errors.html">
            
                    
                    Error Codes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.12" data-path="ipc/required_permission.html">
            
                <a href="ipc/required_permission.html">
            
                    
                    Permissions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.13" data-path="ipc/log_file.html">
            
                <a href="ipc/log_file.html">
            
                    
                    Debug logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.14" data-path="ipc/FAQ.html">
            
                <a href="ipc/FAQ.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.1.15" data-path="ipc/version_record.html">
            
                <a href="ipc/version_record.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="Sweeper.html">
            
                <a href="Sweeper.html#Sweeper-sdk">
            
                    
                    Sweeper SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.2.1" data-path="SweeperInterface.html">
            
                <a href="SweeperInterface.html">
            
                    
                    Gyroscope and Visual Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.2" data-path="SweeperLaser.html">
            
                <a href="SweeperLaser.html">
            
                    
                    Laser Sweeper
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.3" data-path="SweeperVoiceDownload.html">
            
                <a href="SweeperVoiceDownload.html">
            
                    
                    Voice Package Download
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.4" data-path="SweeperWordIntroduction.html">
            
                <a href="SweeperWordIntroduction.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2.5" data-path="SweeperChangeLog.html">
            
                <a href="SweeperChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="Lock.html">
            
                <a href="Lock.html">
            
                    
                    Smart Lock SDK
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.3.1" data-path="WiFiLock.html">
            
                <a href="WiFiLock.html">
            
                    
                    Wi-Fi Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3.2" data-path="BLELock.html">
            
                <a href="BLELock.html">
            
                    
                    BLE Lock
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" >
            
                <a target="_blank" href="https://tuyainc.github.io/tuyasmart_home_ios_sdk_api_reference/index.html">
            
                    
                    API Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="Faq.html">
            
                <a href="Faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    ChangeLog
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Home Relationship Management</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#home-relationship-management"><b>1. </b>Home Relationship Management</a></li><ul><li><span class="title-icon "></span><a href="#obtain-the-home-list"><b>1.1. </b>Obtain the Home List</a></li><ul><li><span class="title-icon "></span><a href="#add-home"><b>1.1.1. </b>Add Home</a></li></ul><li><span class="title-icon "></span><a href="#callback-of-information-in-the-home-list"><b>1.2. </b>Callback of Information in the Home List</a></li><ul><li><span class="title-icon "></span><a href="#callback-of-add-a-home"><b>1.2.1. </b>Callback of Add a Home</a></li><li><span class="title-icon "></span><a href="#callback-of-remove-a-home"><b>1.2.2. </b>Callback of Remove a Home</a></li><li><span class="title-icon "></span><a href="#callback-of-mqtt-service-connection-success"><b>1.2.3. </b>Callback of MQTT Service Connection Success</a></li></ul><li><span class="title-icon "></span><a href="#home-information-management"><b>1.3. </b>Home Information Management</a></li><ul><li><span class="title-icon "></span><a href="#obtain-detail-information-of-home"><b>1.3.1. </b>Obtain Detail Information of Home</a></li><li><span class="title-icon "></span><a href="#modify-home-information"><b>1.3.2. </b>Modify Home Information</a></li><li><span class="title-icon "></span><a href="#dismiss-home"><b>1.3.3. </b>Dismiss Home</a></li><li><span class="title-icon "></span><a href="#add-room"><b>1.3.4. </b>Add Room</a></li><li><span class="title-icon "></span><a href="#remove-room"><b>1.3.5. </b>Remove Room</a></li><li><span class="title-icon "></span><a href="#sort-rooms"><b>1.3.6. </b>Sort Rooms</a></li></ul><li><span class="title-icon "></span><a href="#member-management"><b>1.4. </b>Member Management</a></li><ul><li><span class="title-icon "></span><a href="#add-home-member"><b>1.4.1. </b>Add Home Member</a></li><li><span class="title-icon "></span><a href="#delete-home-member"><b>1.4.2. </b>Delete Home Member</a></li><li><span class="title-icon "></span><a href="#get-a-list-of-home-members"><b>1.4.3. </b>Get a List of Home Members</a></li><li><span class="title-icon "></span><a href="#update-the-home-members-information"><b>1.4.4. </b>Update the Home Member&apos;s Information</a></li><li><span class="title-icon "></span><a href="#accept-or-reject-home-invitations"><b>1.4.5. </b>Accept or Reject Home Invitations</a></li><li><span class="title-icon "></span><a href="#sort-devices-and-groups"><b>1.4.6. </b>Sort Devices and Groups</a></li><li><span class="title-icon "></span><a href="#callback-of-information-change-of-home"><b>1.4.7. </b>Callback of Information Change of Home</a></li></ul><li><span class="title-icon "></span><a href="#room-information-management"><b>1.5. </b>Room Information Management</a></li><ul><li><span class="title-icon "></span><a href="#update-room-name"><b>1.5.1. </b>Update Room Name</a></li><li><span class="title-icon "></span><a href="#update-room-icon"><b>1.5.2. </b>Update Room Icon</a></li><li><span class="title-icon "></span><a href="#add-device-to-a-room"><b>1.5.3. </b>Add Device to a Room</a></li><li><span class="title-icon "></span><a href="#remove-device-from-a-room"><b>1.5.4. </b>Remove Device from a Room</a></li><li><span class="title-icon "></span><a href="#add-group-in-a-room"><b>1.5.5. </b>Add Group in a Room</a></li><li><span class="title-icon "></span><a href="#remove-group-in-a-room"><b>1.5.6. </b>Remove Group in a Room</a></li><li><span class="title-icon "></span><a href="#change-relation-between-room-and-groups-and-devices-in-batches"><b>1.5.7. </b>Change Relation Between Room and Groups and Devices in Batches</a></li></ul><li><span class="title-icon "></span><a href="#home-weather"><b>1.6. </b>Home Weather</a></li><ul><li><span class="title-icon "></span><a href="#get-homes-weather-simple-summary-parameters"><b>1.6.1. </b>Get Home&apos;s Weather Simple Summary Parameters.</a></li><li><span class="title-icon "></span><a href="#get-homes-weather-summary-parameters-with-more-detail"><b>1.6.2. </b>Get Home&apos;s Weather Summary Parameters with More Detail.</a></li></ul></ul></ul></div><h1 id="home-relationship-management"><a name="home-relationship-management" class="anchor-navigation-ex-anchor" href="#home-relationship-management"><i class="fa fa-link" aria-hidden="true"></i></a>1. Home Relationship Management</h1>
<p>After login, user shall use the <code>TuyaSmartHomeManager</code> to obtain information of home list and initiate one home <code>TuyaSmartHome</code> and attain details of a home and manage and control devices in the home.</p>
<table>
<thead>
<tr>
<th>Class Name(Protocol Name)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartHomeManager(Singleton)</td>
<td>Fetch home list, sort home, add home</td>
</tr>
<tr>
<td>TuyaSmartHomeManagerDelegate</td>
<td>Home increase or decrease&#xFF0C;MQTT connection success callback</td>
</tr>
</tbody>
</table>
<h2 id="obtain-the-home-list"><a name="obtain-the-home-list" class="anchor-navigation-ex-anchor" href="#obtain-the-home-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Obtain the Home List</h2>
<p>Fetch home list, return data is just simple information of home. If you want to get the details of a specific home, you need to go to <code>TuyaSmartHome</code> to initialize a home and call the interface getHomeDetailWithSuccess: failure:</p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeListWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>TuyaSmartHomeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>homes<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeList <span class="token punctuation">{</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>homeManager getHomeListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartHomeModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>homes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// home list</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get home list failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">let</span> homeManager<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeManager</span> <span class="token operator">=</span> <span class="token function">TuyaSmartHomeManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">getHomeList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    homeManager<span class="token punctuation">.</span><span class="token function">getHomeList</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>homes<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token comment">// home list</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get home list failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="add-home"><a name="add-home" class="anchor-navigation-ex-anchor" href="#add-home"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. Add Home</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addHomeWithName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>homeName
                geoName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>geoName
                  rooms<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">*</span><span class="token punctuation">)</span>rooms
               latitude<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>latitude
              longitude<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>longitude
                success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessLongLong<span class="token punctuation">)</span>success
                failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeName</td>
<td>Home name</td>
</tr>
<tr>
<td>geoName</td>
<td>Address name</td>
</tr>
<tr>
<td>rooms</td>
<td>Room name list</td>
</tr>
<tr>
<td>latitude</td>
<td>Latitude</td>
</tr>
<tr>
<td>longitude</td>
<td>Longitude</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addHome <span class="token punctuation">{</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>homeManager addHomeWithName<span class="token punctuation">:</span><span class="token string">@&quot;you_home_name&quot;</span>
                          geoName<span class="token punctuation">:</span><span class="token string">@&quot;city_name&quot;</span>
                            rooms<span class="token punctuation">:</span><span class="token operator">@</span><span class="token punctuation">[</span><span class="token string">@&quot;room_name&quot;</span><span class="token punctuation">]</span>
                         latitude<span class="token punctuation">:</span>lat
                        longitude<span class="token punctuation">:</span>lon
                          success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token keyword">double</span> homeId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add home success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add home failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"> <span class="token keyword">func</span> <span class="token function">addHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    homeManager<span class="token punctuation">.</span><span class="token function">addHome</span><span class="token punctuation">(</span>withName<span class="token punctuation">:</span> <span class="token string">&quot;you_home_name&quot;</span><span class="token punctuation">,</span> geoName<span class="token punctuation">:</span> <span class="token string">&quot;city_name&quot;</span><span class="token punctuation">,</span> rooms<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;room_name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> latitude<span class="token punctuation">:</span> lat<span class="token punctuation">,</span> longitude<span class="token punctuation">:</span> lon<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>homeId<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add home success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add home failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="callback-of-information-in-the-home-list"><a name="callback-of-information-in-the-home-list" class="anchor-navigation-ex-anchor" href="#callback-of-information-in-the-home-list"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Callback of Information in the Home List</h2>
<p>After the <code>TuyaSmartHomeManagerDelegate</code> delegate protocol is realized, user can proceed operations in the home list change.</p>
<h3 id="callback-of-add-a-home"><a name="callback-of-add-a-home" class="anchor-navigation-ex-anchor" href="#callback-of-add-a-home"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Callback of Add a Home</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>homeManager<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeManager <span class="token operator">*</span><span class="token punctuation">)</span>manager didAddHome<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeModel <span class="token operator">*</span><span class="token punctuation">)</span>home<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>manager</td>
<td>Home manager instance</td>
</tr>
<tr>
<td>home</td>
<td>Home model</td>
</tr>
</tbody>
</table>
<h3 id="callback-of-remove-a-home"><a name="callback-of-remove-a-home" class="anchor-navigation-ex-anchor" href="#callback-of-remove-a-home"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Callback of Remove a Home</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>homeManager<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeManager <span class="token operator">*</span><span class="token punctuation">)</span>manager didRemoveHome<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>manager</td>
<td>Home manager instance</td>
</tr>
<tr>
<td>homeId</td>
<td>Removed home Id</td>
</tr>
</tbody>
</table>
<h3 id="callback-of-mqtt-service-connection-success"><a name="callback-of-mqtt-service-connection-success" class="anchor-navigation-ex-anchor" href="#callback-of-mqtt-service-connection-success"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. Callback of MQTT Service Connection Success</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>serviceConnectedSuccess<span class="token punctuation">;</span>
</code></pre>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">mark <span class="token operator">-</span> TuyaSmartHomeManagerDelegate</span></span>


<span class="token comment">// Add a home</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>homeManager<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeManager <span class="token operator">*</span><span class="token punctuation">)</span>manager didAddHome<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeModel <span class="token operator">*</span><span class="token punctuation">)</span>home <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// Delete a home</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>homeManager<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeManager <span class="token operator">*</span><span class="token punctuation">)</span>manager didRemoveHome<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>homeId <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token comment">// The MQTT connection succeeds.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>serviceConnectedSuccess <span class="token punctuation">{</span>
    <span class="token comment">// Update the current home UI</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">extension</span> <span class="token builtin">ViewController</span><span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeManagerDelegate</span> <span class="token punctuation">{</span>

    <span class="token comment">// Add a home</span>
    <span class="token keyword">func</span> <span class="token function">homeManager</span><span class="token punctuation">(</span><span class="token number">_</span> manager<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeManager</span><span class="token operator">!</span><span class="token punctuation">,</span> didAddHome home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Delete a home</span>
    <span class="token keyword">func</span> <span class="token function">homeManager</span><span class="token punctuation">(</span><span class="token number">_</span> manager<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeManager</span><span class="token operator">!</span><span class="token punctuation">,</span> didRemoveHome homeId<span class="token punctuation">:</span> <span class="token builtin">Int64</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// The MQTT connection succeeds.</span>
    <span class="token keyword">func</span> <span class="token function">serviceConnectedSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Update the current home UI</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h2 id="home-information-management"><a name="home-information-management" class="anchor-navigation-ex-anchor" href="#home-information-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Home Information Management</h2>
<p>Main function: it is used to obtain, change and dismiss a home. Obtain, add and delete member of a home. Add, dismiss and remove room.
The home ID needs to be used to initiate all <code>TuyaSmartHome</code> classes related to all functions for home information management. Wrong home ID may cause initiation failure, and the nil will be returned.</p>
<p>After initializing the home object, you need to get the details interface of the home (getHomeDetailWithSuccess: failure :).  the properties homeModel, roomList, deviceList, groupList in the home instance object have data.</p>
<table>
<thead>
<tr>
<th>Class Name(protocol Name)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartHome</td>
<td>Get and modify home information, manage rooms and home members</td>
</tr>
<tr>
<td>TuyaSmartHomeDelegate</td>
<td>Home information change callback</td>
</tr>
</tbody>
</table>
<h3 id="obtain-detail-information-of-home"><a name="obtain-detail-information-of-home" class="anchor-navigation-ex-anchor" href="#obtain-detail-information-of-home"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Obtain Detail Information of Home</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeDetailWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>TuyaSmartHomeModel <span class="token operator">*</span>homeModel<span class="token punctuation">)</span><span class="token punctuation">)</span>success
                         failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeDetailInfo <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span>homeId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home getHomeDetailWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>TuyaSmartHomeModel <span class="token operator">*</span>homeModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// homeModel home information</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get home detail success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;get home detail failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getHomeDetailInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">getDetailWithSuccess</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token punctuation">(</span>homeModel<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get home detail success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;get home detail failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="modify-home-information"><a name="modify-home-information" class="anchor-navigation-ex-anchor" href="#modify-home-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Modify Home Information</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateHomeInfoWithName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>homeName
                       geoName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>geoName
                      latitude<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>latitude
                     longitude<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>longitude
                       success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>homeName</td>
<td>Home name</td>
</tr>
<tr>
<td>geoName</td>
<td>Address name</td>
</tr>
<tr>
<td>latitude</td>
<td>Latitude</td>
</tr>
<tr>
<td>longitude</td>
<td>Longitude</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateHomeInfo <span class="token punctuation">{</span>
      <span class="token keyword">self</span><span class="token punctuation">.</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span>homeId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home updateHomeInfoWithName<span class="token punctuation">:</span><span class="token string">@&quot;new_home_name&quot;</span> geoName<span class="token punctuation">:</span><span class="token string">@&quot;city_name&quot;</span> latitude<span class="token punctuation">:</span>lat longitude<span class="token punctuation">:</span>lon success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update home info success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update home info failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">updateHomeInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">updateInfo</span><span class="token punctuation">(</span>withName<span class="token punctuation">:</span> <span class="token string">&quot;new_home_name&quot;</span><span class="token punctuation">,</span> geoName<span class="token punctuation">:</span> <span class="token string">&quot;city_name&quot;</span><span class="token punctuation">,</span> latitude<span class="token punctuation">:</span> lat<span class="token punctuation">,</span> longitude<span class="token punctuation">:</span> lon<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;update home info success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;update home info failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="dismiss-home"><a name="dismiss-home" class="anchor-navigation-ex-anchor" href="#dismiss-home"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.3. Dismiss Home</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>dismissHomeWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                       failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>dismissHome <span class="token punctuation">{</span>

    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home dismissHomeWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;dismiss home success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;dismiss home failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">dismissHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">dismiss</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;dismiss home success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;dismiss home failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="add-room"><a name="add-room" class="anchor-navigation-ex-anchor" href="#add-room"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.4. Add Room</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addHomeRoomWithName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name
                    success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                    failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Room name</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addHomeRoom <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home addHomeRoomWithName<span class="token punctuation">:</span><span class="token string">@&quot;room_name&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addHomeRoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addRoom</span><span class="token punctuation">(</span>withName<span class="token punctuation">:</span> <span class="token string">&quot;room_name&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="remove-room"><a name="remove-room" class="anchor-navigation-ex-anchor" href="#remove-room"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.5. Remove Room</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeHomeRoomWithRoomId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>roomId
                         success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                         failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>roomId</td>
<td>Room Id</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeHomeRoom <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home removeHomeRoomWithRoomId<span class="token punctuation">:</span>roomId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeHomeRoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeRoom</span><span class="token punctuation">(</span>withRoomId<span class="token punctuation">:</span> roomId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="sort-rooms"><a name="sort-rooms" class="anchor-navigation-ex-anchor" href="#sort-rooms"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.6. Sort Rooms</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sortRoomList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>TuyaSmartRoomModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>roomList
             success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
             failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>roomList</td>
<td>Room model list</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sortHomeRoom <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home sortRoomList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartRoomModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sort room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sort room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">sortHomeRoom</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">sortRoomList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token builtin">TuyaSmartRoomModel</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;sort room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;sort room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="member-management"><a name="member-management" class="anchor-navigation-ex-anchor" href="#member-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Member Management</h2>
<p>All functions related to home member management correspond to<code>TuyaSmartHome</code> and <code>TuyaSmartHomeMember</code> classes, member role type is <code>TYHomeRoleType</code></p>
<table>
<thead>
<tr>
<th>Class Name(Protocol Name)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartHomeMember</td>
<td>Home member management</td>
</tr>
</tbody>
</table>
<h3 id="add-home-member"><a name="add-home-member" class="anchor-navigation-ex-anchor" href="#add-home-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. Add Home Member</h3>
<blockquote>
<pre class="language-"><code>The owner (TYHomeRoleType_Owner) can add the administrator and the following roles, and the administrator (TYHomeRoleType_Admin) can add only the ordinary members and the following roles
</code></pre></blockquote>
<p><strong>Declaration</strong></p>
<p>The autoAccept in <code>TuyaSmartHomeAddMemberRequestModel</code> is used to control whether the invitee&apos;s consent is required. If it is set to NO, the invitee needs to call <code>TuyaSmartHome</code>-joinFamilyWithAccept: success: failure: to accept before joining.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addHomeMemberWithAddMemeberRequestModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeAddMemberRequestModel <span class="token operator">*</span><span class="token punctuation">)</span>requestModel success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessDict<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>requestModel</td>
<td>Add member request model</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>TuyaSmartHomeAddMemberRequestModel</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>NSString</td>
<td>Invitee&apos;s nickname</td>
</tr>
<tr>
<td>account</td>
<td>NSString</td>
<td>Invitee&#x2018;s account</td>
</tr>
<tr>
<td>countryCode</td>
<td>NSString</td>
<td>Invitee&#x2018;s account country code</td>
</tr>
<tr>
<td>role</td>
<td>TYHomeRoleType</td>
<td>Home member role</td>
</tr>
<tr>
<td>headPic</td>
<td>UIImage</td>
<td>Invitee&#x2018;s avatar, Use the invitee&apos;s profile picture when nil</td>
</tr>
<tr>
<td>autoAccept</td>
<td>BOOL</td>
<td>Does the invitee need to agree to accept the invitation</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addShare <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>smartHome addHomeMemberWithAddMemeberRequestModel<span class="token punctuation">:</span>requestModel success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span>dict<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addNewMember success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;addNewMember failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addShare</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addHomeMember</span><span class="token punctuation">(</span>requestModel<span class="token punctuation">:</span> requestModel<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addNewMember success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;addNewMember failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="delete-home-member"><a name="delete-home-member" class="anchor-navigation-ex-anchor" href="#delete-home-member"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. Delete Home Member</h3>
<blockquote>
<pre class="language-"><code>The owner (TYHomeRoleType_Owner) can add the administrator and the following roles, and the administrator (TYHomeRoleType_Admin) can add only the ordinary members and the following roles
</code></pre></blockquote>
<p><strong>Declaration</strong></p>
<p>If members input their own memberId, home administrator, ordinary members, and custom roles, this interface is called to leave the family. At this time, the home is not disbanded, and the device will not be reset. The owner is the disbanded home, and the home All devices will be reset, with the same effect as the dismiss family above.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeHomeMemberWithMemberId<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>memberId
                             success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                             failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberId</td>
<td>Home member Id</td>
</tr>
<tr>
<td>success</td>
<td>Success  callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc: </p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeMember<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeMemberModel <span class="token operator">*</span><span class="token punctuation">)</span>memberModel <span class="token punctuation">{</span>
    <span class="token comment">// self.homeMember = [[TuyaSmartHomeMember alloc] init];</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>homeMember removeHomeMemberWithMemberId<span class="token punctuation">:</span>memberModel<span class="token punctuation">.</span>memberId success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeMember success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;removeMember failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeMember</span><span class="token punctuation">(</span><span class="token number">_</span> memberModel<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeMemberModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    homeMember<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeHomeMember</span><span class="token punctuation">(</span>withMemberId<span class="token punctuation">:</span> memberModel<span class="token punctuation">.</span>memberId<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeMember success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;removeMember failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="get-a-list-of-home-members"><a name="get-a-list-of-home-members" class="anchor-navigation-ex-anchor" href="#get-a-list-of-home-members"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.3. Get a List of Home Members</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeMemberListWithSuccess<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">(</span><span class="token operator">^</span><span class="token punctuation">)</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>TuyaSmartHomeMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>memberList<span class="token punctuation">)</span><span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initMemberList <span class="token punctuation">{</span>
  <span class="token comment">//    _home = [TuyaSmartHome homeWithHomeId:homeId];</span>
    <span class="token punctuation">[</span>_home getHomeMemberListWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartHomeMemberModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>memberList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getMemberList success: %@&quot;</span><span class="token punctuation">,</span> memberList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;getMemberList failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">initMemberList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">.</span><span class="token function">getHomeMemberList</span><span class="token punctuation">(</span>withSuccess<span class="token punctuation">:</span> <span class="token punctuation">{</span> memberList <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getMemberList success: <span class="token interpolation"><span class="token delimiter variable">\(</span>memberList<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;getMemberList failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="update-the-home-members-information"><a name="update-the-home-members-information" class="anchor-navigation-ex-anchor" href="#update-the-home-members-information"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.4. Update the Home Member&apos;s Information</h3>
<blockquote>
<pre class="language-"><code>The owner (TYHomeRoleType_Owner) can add the administrator and the following roles, and the administrator (TYHomeRoleType_Admin) can add only the ordinary members and the following roles
</code></pre></blockquote>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateHomeMemberInfoWithMemberRequestModel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeMemberRequestModel <span class="token operator">*</span><span class="token punctuation">)</span>memberRequestModel success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>memberRequestModel</td>
<td>TuyaSmartHomeMemberRequestModel</td>
</tr>
<tr>
<td>success</td>
<td>Success  callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>modifyMemberName<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHomeMemberModel <span class="token operator">*</span><span class="token punctuation">)</span>memberModel name<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>name <span class="token punctuation">{</span>
    <span class="token comment">// self.homeMember = [[TuyaSmartHomeMember alloc] init];</span>
    TuyaSmartHomeMemberRequestModel <span class="token operator">*</span>requestModel <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartHomeMemberRequestModel alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>homeMember updateHomeMemberInfoWithMemberRequestModel<span class="token punctuation">:</span>requestModel  success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;modifyMemberName success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;modifyMemberName failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">modifyMember</span><span class="token punctuation">(</span><span class="token number">_</span> memberModel<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeMemberModel</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    homeMember<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">updateHomeMemberName</span><span class="token punctuation">(</span>withMemberRequestModel<span class="token punctuation">:</span>requestModel<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;modifyMemberName success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;modifyMemberName failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="accept-or-reject-home-invitations"><a name="accept-or-reject-home-invitations" class="anchor-navigation-ex-anchor" href="#accept-or-reject-home-invitations"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.5. Accept or Reject Home Invitations</h3>
<p><strong>Declaration</strong></p>
<p>Whether the member accepts the home&#x2018;s invitation corresponds to the dealStatus in TuyaSmartHomeModel, The invited state will correspond to TYHomeStatusPending&#x3001;TYHomeStatusAccept&#x3001;TYHomeStatusReject.</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>joinFamilyWithAccept<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>accept
                     success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessBOOL<span class="token punctuation">)</span>success
                     failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>accept</td>
<td>Whether to accept</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initMemberList <span class="token punctuation">{</span>
  <span class="token comment">//    _home = [TuyaSmartHome homeWithHomeId:homeId];</span>
      <span class="token punctuation">[</span>_home joinFamilyWithAccept<span class="token punctuation">:</span>YES success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BOOL result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;join success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;join failure&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">initMemberList</span><span class="token punctuation">(</span><span class="token number">_</span> memberModel<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeMemberModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">joinFamilyWithAccept</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>result<span class="token punctuation">:</span> <span class="token builtin">Bool</span><span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;join success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;join failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="sort-devices-and-groups"><a name="sort-devices-and-groups" class="anchor-navigation-ex-anchor" href="#sort-devices-and-groups"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.6. Sort Devices and Groups</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sortDeviceOrGroupWithOrderList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>NSDictionary <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>orderList
                               success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                               failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>orderList</td>
<td>Sort list of devices (or groups)</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token comment">// orderList: [@{@&quot;bizId&quot;: @&quot;XXX&quot;, @&quot;bizType&quot;: @&quot;XXX&quot;},@{@&quot;bizId&quot;: @&quot;XXX&quot;,@&quot;bizType&quot;: @&quot;XXX&quot;}] bizId is devId or groupId, device&apos;s bizType = @&quot;6&quot; group&apos;s bizType = @&quot;5&quot;</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sortDeviceOrGroupWithOrderList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>NSDictionary <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>orderList <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home sortDeviceOrGroupWithOrderList<span class="token punctuation">:</span>orderList success<span class="token punctuation">:</span><span class="token operator">^</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sort device or group success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;sort device or group failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">sortDeviceOrGroup</span><span class="token punctuation">(</span>withOrderList orderList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token builtin">AnyHashable</span> <span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">.</span><span class="token function">sortDeviceOrGroup</span><span class="token punctuation">(</span>withOrderList<span class="token punctuation">:</span> orderList<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;sort device or group success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> error <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> error <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;sort device or group failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="callback-of-information-change-of-home"><a name="callback-of-information-change-of-home" class="anchor-navigation-ex-anchor" href="#callback-of-information-change-of-home"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.7. Callback of Information Change of Home</h3>
<p>After the <code>TuyaSmartHomeDelegate</code> delegate protocol is realized, user can proceed operations in the home information change.</p>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initHome <span class="token punctuation">{</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span>homeId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">self</span><span class="token punctuation">.</span>home<span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">mark <span class="token operator">-</span> TuyaSmartHomeDelegate</span></span>

<span class="token comment">//Update information of home, such as name.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>homeDidUpdateInfo<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Received change of shared device list.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>homeDidUpdateSharedInfo<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// the delegate when a new room is added.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home didAddRoom<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartRoomModel <span class="token operator">*</span><span class="token punctuation">)</span>room <span class="token punctuation">{</span>
      <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// the delegate when an existing room is removed.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home didRemoveRoom<span class="token punctuation">:</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>roomId <span class="token punctuation">{</span>
      <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// room information change, such as name.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home roomInfoUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartRoomModel <span class="token operator">*</span><span class="token punctuation">)</span>room <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// The change of relation between  room and devices and group.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home roomRelationUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartRoomModel <span class="token operator">*</span><span class="token punctuation">)</span>room <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Add device</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home didAddDeivice<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>device <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Remove Device</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home didRemoveDeivice<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>devId <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Update information of device, such as name.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home deviceInfoUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>device <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// the delegate of device dps update.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>device dpsUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>dps <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Add group.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home didAddGroup<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartGroupModel <span class="token operator">*</span><span class="token punctuation">)</span>group <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Remove group.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home didRemoveGroup<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>groupId <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//Update information of group, such as name.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home groupInfoUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartGroupModel <span class="token operator">*</span><span class="token punctuation">)</span>group <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// the delegate of group dps update.</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home group<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartGroupModel <span class="token operator">*</span><span class="token punctuation">)</span>group dpsUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>dps <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span> reload<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// the delegate of warning information update</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>device warningInfoUpdate<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>warningInfo <span class="token punctuation">{</span>
    <span class="token comment">//...  </span>
<span class="token punctuation">}</span>

<span class="token comment">// the delegate of device firmware upgrade status update</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>home<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>home device<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>device upgradeStatus<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceUpgradeStatus<span class="token punctuation">)</span>upgradeStatus <span class="token punctuation">{</span>
      <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">var</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">?</span>

<span class="token keyword">extension</span> <span class="token builtin">ViewController</span><span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHomeDelegate</span> <span class="token punctuation">{</span>

    <span class="token keyword">func</span> <span class="token function">initHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        home <span class="token operator">=</span> <span class="token function">TuyaSmartHome</span><span class="token punctuation">(</span>homeId<span class="token punctuation">:</span> homeId<span class="token punctuation">)</span>
        home<span class="token operator">?</span><span class="token punctuation">.</span>delegate <span class="token operator">=</span> <span class="token keyword">self</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Update information of home, such as name.</span>
    <span class="token keyword">func</span> <span class="token function">homeDidUpdateInfo</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//        reload()</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Received change of shared device list.</span>
    <span class="token keyword">func</span> <span class="token function">homeDidUpdateSharedInfo</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// the delegate when a new room is added.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> didAddRoom room<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartRoomModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// the delegate when an existing room is removed.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> didRemoveRoom roomId<span class="token punctuation">:</span> int32<span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token comment">//...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// room information change, such as name.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> roomInfoUpdate room<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartRoomModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//        reload()/</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// The change of relation between  room and devices and group.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> roomRelationUpdate room<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartRoomModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Add device</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> didAddDeivice device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDeviceModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Remove Device</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> didRemoveDeivice devId<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Update information of device, such as name.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> deviceInfoUpdate device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDeviceModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// the delegate of device dps update.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDeviceModel</span><span class="token operator">!</span><span class="token punctuation">,</span> dpsUpdate dps<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">AnyHashable</span> <span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">//...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Add group.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> didAddGroup group<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartGroupModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Remove group.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> didRemoveGroup groupId<span class="token punctuation">:</span> <span class="token builtin">String</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// Update information of group, such as name.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> groupInfoUpdate group<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartGroupModel</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token comment">// he delegate of group dps update.</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> group<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartGroupModel</span><span class="token operator">!</span><span class="token punctuation">,</span> dpsUpdate dps<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">AnyHashable</span> <span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

      <span class="token comment">// the delegate of warning information update</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDeviceModel</span><span class="token operator">!</span><span class="token punctuation">,</span> warningInfoUpdate warningInfo<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">AnyHashable</span> <span class="token punctuation">:</span> <span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//...</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//  the delegate of device firmware upgrade status update</span>
    <span class="token keyword">func</span> <span class="token function">home</span><span class="token punctuation">(</span><span class="token number">_</span> home<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span><span class="token punctuation">,</span> device<span class="token punctuation">:</span> <span class="token builtin">TuyaSmartDeviceModel</span><span class="token operator">!</span><span class="token punctuation">,</span> upgradeStatus status <span class="token builtin">TuyaSmartDeviceUpgradeStatus</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//....</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h2 id="room-information-management"><a name="room-information-management" class="anchor-navigation-ex-anchor" href="#room-information-management"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Room Information Management</h2>
<p>The roomId needs to be used to initiate all <code>TuyaSmartRoom</code> classes related to all functions for room information management. Wrong roomId may cause initiation failure, and the <code>nil</code> will be returned.</p>
<table>
<thead>
<tr>
<th>Class Name(Protocol Name)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TuyaSmartRoom</td>
<td>Room information and device or group management in the room</td>
</tr>
</tbody>
</table>
<h3 id="update-room-name"><a name="update-room-name" class="anchor-navigation-ex-anchor" href="#update-room-name"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.1. Update Room Name</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateRoomName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>roomName success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>roomName</td>
<td>Room name</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateRoomName <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room updateRoomName<span class="token punctuation">:</span><span class="token string">@&quot;new_room_name&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update room name success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;update room name failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">updateRoomName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">updateName</span><span class="token punctuation">(</span><span class="token string">&quot;new_room_name&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;update room name success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;update room name failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="update-room-icon"><a name="update-room-icon" class="anchor-navigation-ex-anchor" href="#update-room-icon"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.2. Update Room Icon</h3>
<p>The room can support upload custom image, after success, you can get the room icon URL through <code>TuyaSmartRoomModel.iconUrl</code></p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateIcon<span class="token punctuation">:</span><span class="token punctuation">(</span>UIImage <span class="token operator">*</span><span class="token punctuation">)</span>icon success<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>nullable TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>icon</td>
<td>Room image</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objc"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>updateIcon <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room updateIcon<span class="token punctuation">:</span><span class="token punctuation">[</span>UIImage imageNamed<span class="token punctuation">:</span><span class="token string">@&quot;xxx.JPG&quot;</span><span class="token punctuation">]</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
      <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;room image update success %@&quot;</span><span class="token punctuation">,</span> room<span class="token punctuation">.</span>roomModel<span class="token punctuation">.</span>iconUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;room image update failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">updateIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">updateIcon</span><span class="token punctuation">(</span><span class="token function">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string">&quot;xxx.jpg&quot;</span><span class="token punctuation">)</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;room image update success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;room image update failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="add-device-to-a-room"><a name="add-device-to-a-room" class="anchor-navigation-ex-anchor" href="#add-device-to-a-room"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.3. Add Device to a Room</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addDeviceWithDeviceId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>deviceId success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>Device Id</td>
</tr>
<tr>
<td>success</td>
<td>Success call back</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addDevice <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room addDeviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;devId&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add device to room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add device to room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addDevice</span><span class="token punctuation">(</span>withDeviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_devId&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add device to room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add device to room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="remove-device-from-a-room"><a name="remove-device-from-a-room" class="anchor-navigation-ex-anchor" href="#remove-device-from-a-room"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.4. Remove Device from a Room</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeDeviceWithDeviceId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>deviceId success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceId</td>
<td>Device Id</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeDevice <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room removeDeviceWithDeviceId<span class="token punctuation">:</span><span class="token string">@&quot;devId&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove device from room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove device from room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeDevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeDevice</span><span class="token punctuation">(</span>withDeviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_devId&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove device from room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove device from room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="add-group-in-a-room"><a name="add-group-in-a-room" class="anchor-navigation-ex-anchor" href="#add-group-in-a-room"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.5. Add Group in a Room</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addGroupWithGroupId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>groupId success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>groupId</td>
<td>Group Id</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addGroup <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room addGroupWithGroupId<span class="token punctuation">:</span><span class="token string">@&quot;groupId&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add group to room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;add group to room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">addGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">addGroup</span><span class="token punctuation">(</span>withGroupId<span class="token punctuation">:</span> <span class="token string">&quot;your_groupId&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add group to room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;add group to room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="remove-group-in-a-room"><a name="remove-group-in-a-room" class="anchor-navigation-ex-anchor" href="#remove-group-in-a-room"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.6. Remove Group in a Room</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeGroupWithGroupId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>groupId success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>groupId</td>
<td>Group Id</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeGroup <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room removeGroupWithGroupId<span class="token punctuation">:</span><span class="token string">@&quot;groupId&quot;</span> success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove group from room success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;remove group from room failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">removeGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">removeGroup</span><span class="token punctuation">(</span>withDeviceId<span class="token punctuation">:</span> <span class="token string">&quot;your_devId&quot;</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove device from room success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;remove device from room failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="change-relation-between-room-and-groups-and-devices-in-batches"><a name="change-relation-between-room-and-groups-and-devices-in-batches" class="anchor-navigation-ex-anchor" href="#change-relation-between-room-and-groups-and-devices-in-batches"><i class="fa fa-link" aria-hidden="true"></i></a>1.5.7. Change Relation Between Room and Groups and Devices in Batches</h3>
<p><strong>Declaration</strong></p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>saveBatchRoomRelationWithDeviceGroupList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>deviceGroupList
                                         success<span class="token punctuation">:</span><span class="token punctuation">(</span>TYSuccessHandler<span class="token punctuation">)</span>success
                                         failure<span class="token punctuation">:</span><span class="token punctuation">(</span>TYFailureError<span class="token punctuation">)</span>failure<span class="token punctuation">;</span>
</code></pre>
<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>deviceGroupList</td>
<td>The list of device Id (or group Id)</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>saveBatchRoomRelation <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>room saveBatchRoomRelationWithDeviceGroupList<span class="token punctuation">:</span><span class="token punctuation">(</span>NSArray <span class="token operator">&lt;</span>NSString <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>deviceGroupList success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;save batch room relation success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;save batch room relation failure: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">saveBatchRoomRelation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    room<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">saveBatchRoomRelation</span><span class="token punctuation">(</span>withDeviceGroupList<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;save batch room relation success&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> failure<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token keyword">if</span> <span class="token keyword">let</span> e <span class="token operator">=</span> error <span class="token punctuation">{</span>
            <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;save batch room relation failure: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 id="home-weather"><a name="home-weather" class="anchor-navigation-ex-anchor" href="#home-weather"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. Home Weather</h2>
<h3 id="get-homes-weather-simple-summary-parameters"><a name="get-homes-weather-simple-summary-parameters" class="anchor-navigation-ex-anchor" href="#get-homes-weather-simple-summary-parameters"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.1. Get Home&apos;s Weather Simple Summary Parameters.</h3>
<p>Sush as city name, state of weather(clear, cloudy, rainy, and so on),weather icon.</p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code>- (void)getHomeWeatherSketchWithSuccess:(void(^)(TuyaSmartWeatherSketchModel *))success
                                                             failure:(TYFailureError)failure;
</code></pre><p>If cannot get methods,please code:</p>
<pre class="language-"><code>#import &lt;TuyaSmartDeviceKit/TuyaSmartHome+Weather.h&gt;
</code></pre><p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p>Parameter <code>TuyaSmartWeatherSketchModel</code> description&#xFF1A;</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>condition</td>
<td>weather description</td>
</tr>
<tr>
<td>iconUrl</td>
<td>weather icon, highlight</td>
</tr>
<tr>
<td>inIconUrl</td>
<td>weather icon</td>
</tr>
<tr>
<td>city</td>
<td>city</td>
</tr>
<tr>
<td>temp</td>
<td>temperature</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeWeatherSketch <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home getHomeWeatherSketchWithSuccess<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>TuyaSmartWeatherSketchModel <span class="token operator">*</span>weatherSketchModel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;success get weather summary model: %@&quot;</span><span class="token punctuation">,</span>weatherSketchModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;failure with error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getHomeWeatherSketch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    home<span class="token punctuation">.</span><span class="token function">getWeatherSketch</span><span class="token punctuation">(</span>success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>weatherSketchModel<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;success get weather summary model: <span class="token interpolation"><span class="token delimiter variable">\(</span>weatherSketchModel<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;failure with error: <span class="token interpolation"><span class="token delimiter variable">\(</span>e<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="get-homes-weather-summary-parameters-with-more-detail"><a name="get-homes-weather-summary-parameters-with-more-detail" class="anchor-navigation-ex-anchor" href="#get-homes-weather-summary-parameters-with-more-detail"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.2. Get Home&apos;s Weather Summary Parameters with More Detail.</h3>
<p>Such as tempature, humidity, ultraviolet index, air quality.</p>
<p><strong>Declaration</strong></p>
<pre class="language-"><code>- (void)getHomeWeatherDetailWithOption:(TuyaSmartWeatherOptionModel *)optionModel
                               success:(void(^)(NSArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TuyaSmartWeatherModel</span> <span class="token attr-name">*</span><span class="token punctuation">&gt;</span></span> *))success
                               failure:(TYFailureError)failure;
</code></pre><table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>optionModel</td>
<td>Weather details unit configuration</td>
</tr>
<tr>
<td>success</td>
<td>Success callback</td>
</tr>
<tr>
<td>failure</td>
<td>Failure callback</td>
</tr>
</tbody>
</table>
<p>Before request, param <code>TuyaSmartWeatherOptionModel</code>  need config.</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>pressureUnit</td>
<td>pressure unit</td>
</tr>
<tr>
<td>windspeedUnit</td>
<td>windspeed unit</td>
</tr>
<tr>
<td>temperatureUnit</td>
<td>temperature unit</td>
</tr>
<tr>
<td>limit</td>
<td>return weather description count,if limit = 0,return all weather description</td>
</tr>
</tbody>
</table>
<p>return parameter <code>TuyaSmartWeatherModel</code>:</p>
<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>icon</td>
<td>weahter icon</td>
</tr>
<tr>
<td>name</td>
<td>weahter name</td>
</tr>
<tr>
<td>unit</td>
<td>weahter parameter unit</td>
</tr>
<tr>
<td>value</td>
<td>weahter parameter value</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Objc:</p>
<pre class="language-"><code class="lang-objective-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHomeWeatherDetail <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>home getHomeWeatherDetailWithOption<span class="token punctuation">:</span>optionModel 
                                      success<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>TuyaSmartWeatherModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span>weatherModels<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;success get weather model: %@&quot;</span><span class="token punctuation">,</span>weatherModels<span class="token punctuation">)</span><span class="token punctuation">;</span>
                                    <span class="token punctuation">}</span> failure<span class="token punctuation">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">NSLog</span><span class="token punctuation">(</span><span class="token string">@&quot;failure with error: %@&quot;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift:</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">func</span> <span class="token function">getHomeWeatherDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> optionModel <span class="token operator">=</span> <span class="token function">TuyaSmartWeatherOptionModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// do some optionModel config</span>
    home<span class="token punctuation">.</span><span class="token function">getWeatherDetail</span><span class="token punctuation">(</span>withOption<span class="token punctuation">:</span> optionModel<span class="token punctuation">,</span> success<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>weatherSketchModel<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;success get weather summary model: <span class="token interpolation"><span class="token delimiter variable">\(</span>weatherSketchModel<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">in</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;failure with error: <span class="token interpolation"><span class="token delimiter variable">\(</span>error<span class="token delimiter variable">)</span></span>&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="HomeAbout.html" class="navigation navigation-prev " aria-label="Previous page: Home Management">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Home.html#home-information-management" class="navigation navigation-next " aria-label="Next page: Operation of Home">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Home Relationship Management","level":"1.7.1","depth":2,"next":{"title":"Operation of Home","level":"1.7.2","depth":2,"anchor":"#home-information-management","path":"resource/Home.md","ref":"./resource/Home.md#home-information-management","articles":[]},"previous":{"title":"Home Management","level":"1.7","depth":1,"path":"resource/HomeAbout.md","ref":"./resource/HomeAbout.md","articles":[{"title":"Home Relationship Management","level":"1.7.1","depth":2,"anchor":"#home-relationship-management","path":"resource/Home.md","ref":"./resource/Home.md#home-relationship-management","articles":[]},{"title":"Operation of Home","level":"1.7.2","depth":2,"anchor":"#home-information-management","path":"resource/Home.md","ref":"./resource/Home.md#home-information-management","articles":[]},{"title":"Home Member Management","level":"1.7.3","depth":2,"anchor":"#member-management","path":"resource/Home.md","ref":"./resource/Home.md#member-management","articles":[]},{"title":"Room Management","level":"1.7.4","depth":2,"anchor":"#room-information-management","path":"resource/Home.md","ref":"./resource/Home.md#room-information-management","articles":[]},{"title":"Home's Weather","level":"1.7.5","depth":2,"anchor":"#home-weather","path":"resource/Home.md","ref":"./resource/Home.md#home-weather","articles":[]}]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors","splitter","github","anchor-navigation-ex","ga","expandable-chapters-small","pageview-count","language-picker","hide-element","flexible-alerts"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":["sequence"]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_home_ios_sdk"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":false,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"flexible-alerts":{"danger":{"className":"danger","icon":"fa fa-ban","label":{"zh-hans":"æ³¨æ","en":"Attention"}},"note":{"className":"info","icon":"fa fa-info-circle","label":{"zh-hans":"æç¤º","en":"Note"}},"style":"flat","tip":{"className":"tip","icon":"fa fa-lightbulb-o","label":{"zh-hans":"Tips","en":"Tip"}},"warning":{"className":"warning","icon":"fa fa-exclamation-triangle","label":{"zh-hans":"è­¦å","en":"Warning"}}},"ga":{"configuration":"auto","token":"UA-165828612-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/Home.md","mtime":"2021-01-09T03:40:24.981Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-01-09T03:41:24.778Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-flexible-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

